{"$schema":"https://json-schema.org/draft-07/schema#","title":"Values","type":"object","properties":{"agent":{"type":"object","properties":{"affinity":{"type":"object","properties":{"nodeAffinity":{"type":"object","properties":{"preferredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"node affinity preferred scheduling terms","items":{"type":"object"}},"requiredDuringSchedulingIgnoredDuringExecution":{"type":"object","properties":{"nodeSelectorTerms":{"type":"array","description":"node affinity required node selectors","items":{"type":"object"}}}}}},"podAffinity":{"type":"object","properties":{"preferredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod affinity preferred scheduling terms","items":{"type":"object"}},"requiredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod affinity required scheduling terms","items":{"type":"object"}}}},"podAntiAffinity":{"type":"object","properties":{"preferredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod anti-affinity preferred scheduling terms","items":{"type":"object"}},"requiredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod anti-affinity required scheduling terms","items":{"type":"object"}}}}}},"annotations":{"type":"object","description":"deployment annotations"},"enabled":{"type":"boolean","description":"agent enabled"},"env":{"type":"array","description":"environment variables","items":{"type":"object"}},"externalTrafficPolicy":{"type":"string","description":"external traffic policy (can be specified when service type is LoadBalancer or NodePort) : Cluster or Local"},"hpa":{"type":"object","properties":{"enabled":{"type":"boolean","description":"HPA enabled"},"targetCPUUtilizationPercentage":{"type":"integer","description":"HPA CPU utilization percentage"}}},"image":{"type":"object","properties":{"pullPolicy":{"type":"string","description":"image pull policy","enum":["Always","Never","IfNotPresent"]},"repository":{"type":"string","description":"image repository"},"tag":{"type":"string","description":"image tag (overrides defaults.image.tag)"}}},"initContainers":{"type":"array","description":"init containers","items":{"type":"object"}},"kind":{"type":"string","description":"deployment kind: Deployment, DaemonSet or StatefulSet","enum":["StatefulSet","Deployment","DaemonSet"]},"logging":{"type":"object","properties":{"format":{"type":"string","description":"logging format. logging format must be `raw` or `json`","enum":["raw","json"]},"level":{"type":"string","description":"logging level. logging level must be `debug`, `info`, `warn`, `error` or `fatal`.","enum":["debug","info","warn","error","fatal"]},"logger":{"type":"string","description":"logger name. currently logger must be `glg` or `zap`.","enum":["glg","zap"]}}},"maxReplicas":{"type":"integer","description":"maximum number of replicas. if HPA is disabled, this value will be ignored.","minimum":0},"maxUnavailable":{"type":"string","description":"maximum number of unavailable replicas"},"minReplicas":{"type":"integer","description":"minimum number of replicas. if HPA is disabled, the replicas will be set to this value","minimum":0},"name":{"type":"string","description":"name of agent deployment"},"ngt":{"type":"object","properties":{"auto_create_index_pool_size":{"type":"integer","description":"batch process pool size of automatic create index operation"},"auto_index_check_duration":{"type":"string","description":"check duration of automatic indexing"},"auto_index_duration_limit":{"type":"string","description":"limit duration of automatic indexing"},"auto_index_length":{"type":"integer","description":"number of cache to trigger automatic indexing"},"auto_save_index_duration":{"type":"string","description":"duration of automatic save index"},"broken_index_history_limit":{"type":"integer","description":"maximum number of broken index generations to backup","minimum":0},"bulk_insert_chunk_size":{"type":"integer","description":"bulk insert chunk size"},"creation_edge_size":{"type":"integer","description":"creation edge size"},"default_epsilon":{"type":"number","description":"default epsilon used for search"},"default_pool_size":{"type":"integer","description":"default create index batch pool size"},"default_radius":{"type":"number","description":"default radius used for search"},"dimension":{"type":"integer","description":"vector dimension","minimum":1},"distance_type":{"type":"string","description":"distance type. it should be `l1`, `l2`, `angle`, `hamming`, `cosine`,`poincare`, `lorentz`, `jaccard`, `sparsejaccard`, `normalizedangle` or `normalizedcosine`. for further details about NGT libraries supported distance is https://github.com/yahoojapan/NGT/wiki/Command-Quick-Reference and vald agent's supported NGT distance type is https://pkg.go.dev/github.com/vdaas/vald/internal/core/algorithm/ngt#pkg-constants","enum":["l1","l2","ang","angle","ham","hamming","cos","cosine","poincare","poinc","lorentz","loren","jac","jaccard","spjac","sparsejaccard","norml2","normalizedl2","normang","normalizedangle","normcos","normalizedcosine"]},"enable_copy_on_write":{"type":"boolean","description":"enable copy on write saving for more stable backup"},"enable_in_memory_mode":{"type":"boolean","description":"in-memory mode enabled"},"enable_proactive_gc":{"type":"boolean","description":"enable proactive GC call for reducing heap memory allocation"},"index_path":{"type":"string","description":"path to index data"},"initial_delay_max_duration":{"type":"string","description":"maximum duration for initial delay"},"kvsdb":{"type":"object","properties":{"concurrency":{"type":"integer","description":"kvsdb processing concurrency"}}},"load_index_timeout_factor":{"type":"string","description":"a factor of load index timeout. timeout duration will be calculated by (index count to be loaded) * (factor)."},"max_load_index_timeout":{"type":"string","description":"maximum duration of load index timeout"},"min_load_index_timeout":{"type":"string","description":"minimum duration of load index timeout"},"object_type":{"type":"string","description":"object type. it should be `float` or `uint8` or `float16`. for further details: https://github.com/yahoojapan/NGT/wiki/Command-Quick-Reference","enum":["float","float16","uint8"]},"search_edge_size":{"type":"integer","description":"search edge size"},"vqueue":{"type":"object","properties":{"delete_buffer_pool_size":{"type":"integer","description":"delete slice pool buffer size"},"insert_buffer_pool_size":{"type":"integer","description":"insert slice pool buffer size"}}}}},"nodeName":{"type":"string","description":"node name"},"nodeSelector":{"type":"object","description":"node selector"},"observability":{"type":"object","properties":{"enabled":{"type":"boolean","description":"observability features enabled"},"metrics":{"type":"object","properties":{"enable_cgo":{"type":"boolean","description":"CGO metrics enabled"},"enable_goroutine":{"type":"boolean","description":"goroutine metrics enabled"},"enable_memory":{"type":"boolean","description":"memory metrics enabled"},"enable_version_info":{"type":"boolean","description":"version info metrics enabled"},"version_info_labels":{"type":"array","description":"enabled label names of version info","items":{"type":"string","enum":["vald_version","server_name","git_commit","build_time","go_version","go_os","go_arch","cgo_enabled","ngt_version","build_cpu_info_flags"]}}}},"otlp":{"type":"object","properties":{"attribute":{"type":"object","description":"default resource attribute","properties":{"namespace":{"type":"string","description":"namespace"},"node_name":{"type":"string","description":"node name"},"pod_name":{"type":"string","description":"pod name"},"service_name":{"type":"string","description":"service name"}}},"collector_endpoint":{"type":"string","description":"OpenTelemetry Collector endpoint"},"metrics_export_interval":{"type":"string","description":"metrics export interval"},"metrics_export_timeout":{"type":"string","description":"metrics export timeout"},"trace_batch_timeout":{"type":"string","description":"trace batch timeout"},"trace_export_timeout":{"type":"string","description":"trace export timeout"},"trace_max_export_batch_size":{"type":"integer","description":"trace maximum export batch size"},"trace_max_queue_size":{"type":"integer","description":"trace maximum queue size"}}},"trace":{"type":"object","properties":{"enabled":{"type":"boolean","description":"trace enabled"}}}}},"persistentVolume":{"type":"object","properties":{"accessMode":{"type":"string","description":"agent pod storage accessMode"},"enabled":{"type":"boolean","description":"enables PVC. It is required to enable if agent pod's file store functionality is enabled with non in-memory mode"},"mountPropagation":{"type":"string","description":"agent pod storage mountPropagation"},"size":{"type":"string","description":"size of agent pod volume"},"storageClass":{"type":"string","description":"storageClass name for agent pod volume"}}},"podAnnotations":{"type":"object","description":"pod annotations"},"podManagementPolicy":{"type":"string","description":"pod management policy: OrderedReady or Parallel","enum":["OrderedReady","Parallel"]},"podPriority":{"type":"object","properties":{"enabled":{"type":"boolean","description":"gateway pod PriorityClass enabled"},"value":{"type":"integer","description":"gateway pod PriorityClass value"}}},"podSecurityContext":{"type":"object","description":"security context for pod"},"progressDeadlineSeconds":{"type":"integer","description":"progress deadline seconds"},"resources":{"type":"object","description":"compute resources","properties":{"limits":{"type":"object"},"requests":{"type":"object"}}},"revisionHistoryLimit":{"type":"integer","description":"number of old history to retain to allow rollback","minimum":0},"rollingUpdate":{"type":"object","properties":{"maxSurge":{"type":"string","description":"max surge of rolling update"},"maxUnavailable":{"type":"string","description":"max unavailable of rolling update"},"partition":{"type":"integer","description":"StatefulSet partition"}}},"securityContext":{"type":"object","description":"security context for container"},"server_config":{"type":"object","properties":{"full_shutdown_duration":{"type":"string","description":"server full shutdown duration"},"healths":{"type":"object","properties":{"liveness":{"type":"object","properties":{"enabled":{"type":"boolean","description":"liveness server enabled"},"host":{"type":"string","description":"liveness server host"},"livenessProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"liveness probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"liveness probe path"},"port":{"type":"string","description":"liveness probe port"},"scheme":{"type":"string","description":"liveness probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"liveness probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"liveness probe period seconds"},"successThreshold":{"type":"integer","description":"liveness probe success threshold"},"timeoutSeconds":{"type":"integer","description":"liveness probe timeout seconds"}}},"port":{"type":"integer","description":"liveness server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"liveness server service port","maximum":65535,"minimum":0}}},"readiness":{"type":"object","properties":{"enabled":{"type":"boolean","description":"readiness server enabled"},"host":{"type":"string","description":"readiness server host"},"port":{"type":"integer","description":"readiness server port","maximum":65535,"minimum":0},"readinessProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"readiness probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"readiness probe path"},"port":{"type":"string","description":"readiness probe port"},"scheme":{"type":"string","description":"readiness probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"readiness probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"readiness probe period seconds"},"successThreshold":{"type":"integer","description":"readiness probe success threshold"},"timeoutSeconds":{"type":"integer","description":"readiness probe timeout seconds"}}},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"readiness server service port","maximum":65535,"minimum":0}}},"startup":{"type":"object","properties":{"enabled":{"type":"boolean","description":"startup server enabled"},"port":{"type":"integer","description":"startup server port","maximum":65535,"minimum":0},"startupProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"startup probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"startup probe path"},"port":{"type":"string","description":"startup probe port"},"scheme":{"type":"string","description":"startup probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"startup probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"startup probe period seconds"},"successThreshold":{"type":"integer","description":"startup probe success threshold"},"timeoutSeconds":{"type":"integer","description":"startup probe timeout seconds"}}}}}}},"metrics":{"type":"object","properties":{"pprof":{"type":"object","properties":{"enabled":{"type":"boolean","description":"pprof server enabled"},"host":{"type":"string","description":"pprof server host"},"port":{"type":"integer","description":"pprof server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"pprof server service port","maximum":65535,"minimum":0}}}}},"servers":{"type":"object","properties":{"grpc":{"type":"object","properties":{"enabled":{"type":"boolean","description":"gRPC server enabled"},"host":{"type":"string","description":"gRPC server host"},"port":{"type":"integer","description":"gRPC server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"grpc":{"type":"object","properties":{"bidirectional_stream_concurrency":{"type":"integer","description":"gRPC server bidirectional stream concurrency"},"connection_timeout":{"type":"string","description":"gRPC server connection timeout"},"enable_reflection":{"type":"boolean","description":"gRPC server reflection option"},"header_table_size":{"type":"integer","description":"gRPC server header table size"},"initial_conn_window_size":{"type":"integer","description":"gRPC server initial connection window size"},"initial_window_size":{"type":"integer","description":"gRPC server initial window size"},"interceptors":{"type":"array","description":"gRPC server interceptors","items":{"type":"string","enum":["RecoverInterceptor","AccessLogInterceptor","TraceInterceptor","MetricInterceptor"]}},"keepalive":{"type":"object","properties":{"max_conn_age":{"type":"string","description":"gRPC server keep alive max connection age"},"max_conn_age_grace":{"type":"string","description":"gRPC server keep alive max connection age grace"},"max_conn_idle":{"type":"string","description":"gRPC server keep alive max connection idle"},"min_time":{"type":"string","description":"gRPC server keep alive min_time"},"permit_without_stream":{"type":"boolean","description":"gRPC server keep alive permit_without_stream"},"time":{"type":"string","description":"gRPC server keep alive time"},"timeout":{"type":"string","description":"gRPC server keep alive timeout"}}},"max_header_list_size":{"type":"integer","description":"gRPC server max header list size"},"max_receive_message_size":{"type":"integer","description":"gRPC server max receive message size"},"max_send_message_size":{"type":"integer","description":"gRPC server max send message size"},"read_buffer_size":{"type":"integer","description":"gRPC server read buffer size"},"write_buffer_size":{"type":"integer","description":"gRPC server write buffer size"}}},"mode":{"type":"string","description":"gRPC server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"gRPC server probe wait time"},"restart":{"type":"boolean","description":"gRPC server restart"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"gRPC server service port","maximum":65535,"minimum":0}}},"rest":{"type":"object","properties":{"enabled":{"type":"boolean","description":"REST server enabled"},"host":{"type":"string","description":"REST server host"},"port":{"type":"integer","description":"REST server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"REST server service port","maximum":65535,"minimum":0}}}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"service":{"type":"object","properties":{"annotations":{"type":"object","description":"service annotations"},"labels":{"type":"object","description":"service labels"}}},"serviceType":{"type":"string","description":"service type: ClusterIP, LoadBalancer or NodePort","enum":["ClusterIP","LoadBalancer","NodePort"]},"sidecar":{"type":"object","properties":{"config":{"type":"object","properties":{"auto_backup_duration":{"type":"string","description":"auto backup duration"},"auto_backup_enabled":{"type":"boolean","description":"auto backup triggered by timer is enabled"},"blob_storage":{"type":"object","properties":{"bucket":{"type":"string","description":"bucket name"},"cloud_storage":{"type":"object","properties":{"client":{"type":"object","properties":{"credentials_file_path":{"type":"string","description":"credentials file path"},"credentials_json":{"type":"string","description":"credentials json"}}},"url":{"type":"string","description":"cloud storage url"},"write_buffer_size":{"type":"integer","description":"bytes of the chunks for upload"},"write_cache_control":{"type":"string","description":"Cache-Control of HTTP Header"},"write_content_disposition":{"type":"string","description":"Content-Disposition of HTTP Header"},"write_content_encoding":{"type":"string","description":"the encoding of the blob's content"},"write_content_language":{"type":"string","description":"the language of blob's content"},"write_content_type":{"type":"string","description":"MIME type of the blob"}}},"s3":{"type":"object","properties":{"access_key":{"type":"string","description":"s3 access key"},"enable_100_continue":{"type":"boolean","description":"enable AWS SDK adding the 'Expect: 100-Continue' header to PUT requests over 2MB of content."},"enable_content_md5_validation":{"type":"boolean","description":"enable the S3 client to add MD5 checksum to upload API calls."},"enable_endpoint_discovery":{"type":"boolean","description":"enable endpoint discovery"},"enable_endpoint_host_prefix":{"type":"boolean","description":"enable prefixing request endpoint hosts with modeled information"},"enable_param_validation":{"type":"boolean","description":"enables semantic parameter validation"},"enable_ssl":{"type":"boolean","description":"enable ssl for s3 session"},"endpoint":{"type":"string","description":"s3 endpoint"},"force_path_style":{"type":"boolean","description":"use path-style addressing"},"max_chunk_size":{"type":"string","description":"s3 download max chunk size","pattern":"^[0-9]+(kb|mb|gb)$"},"max_part_size":{"type":"string","description":"s3 multipart upload max part size","pattern":"^[0-9]+(kb|mb|gb)$"},"max_retries":{"type":"integer","description":"maximum number of retries of s3 client"},"region":{"type":"string","description":"s3 region"},"secret_access_key":{"type":"string","description":"s3 secret access key"},"token":{"type":"string","description":"s3 token"},"use_accelerate":{"type":"boolean","description":"enable s3 accelerate feature"},"use_arn_region":{"type":"boolean","description":"s3 service client to use the region specified in the ARN"},"use_dual_stack":{"type":"boolean","description":"use dual stack"}}},"storage_type":{"type":"string","description":"storage type","enum":["s3","cloud_storage"]}}},"client":{"type":"object","properties":{"net":{"type":"object","properties":{"dialer":{"type":"object","properties":{"dual_stack_enabled":{"type":"boolean","description":"gRPC client TCP dialer dual stack enabled"},"keepalive":{"type":"string","description":"gRPC client TCP dialer keep alive"},"timeout":{"type":"string","description":"gRPC client TCP dialer timeout"}}},"dns":{"type":"object","properties":{"cache_enabled":{"type":"boolean","description":"gRPC client TCP DNS cache enabled"},"cache_expiration":{"type":"string","description":"gRPC client TCP DNS cache expiration"},"refresh_duration":{"type":"string","description":"gRPC client TCP DNS cache refresh duration"}}},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"transport":{"type":"object","properties":{"backoff":{"type":"object","properties":{"backoff_factor":{"type":"number","description":"gRPC client backoff factor"},"backoff_time_limit":{"type":"string","description":"gRPC client backoff time limit"},"enable_error_log":{"type":"boolean","description":"gRPC client backoff log enabled"},"initial_duration":{"type":"string","description":"gRPC client backoff initial duration"},"jitter_limit":{"type":"string","description":"gRPC client backoff jitter limit"},"maximum_duration":{"type":"string","description":"gRPC client backoff maximum duration"},"retry_count":{"type":"integer","description":"gRPC client backoff retry count"}}},"round_tripper":{"type":"object","properties":{"expect_continue_timeout":{"type":"string","description":"expect continue timeout"},"force_attempt_http_2":{"type":"boolean","description":"force attempt HTTP2"},"idle_conn_timeout":{"type":"string","description":"timeout for idle connections"},"max_conns_per_host":{"type":"integer","description":"maximum count of connections per host"},"max_idle_conns":{"type":"integer","description":"maximum count of idle connections"},"max_idle_conns_per_host":{"type":"integer","description":"maximum count of idle connections per host"},"max_response_header_size":{"type":"integer","description":"maximum response header size"},"read_buffer_size":{"type":"integer","description":"read buffer size"},"response_header_timeout":{"type":"string","description":"timeout for response header"},"tls_handshake_timeout":{"type":"string","description":"TLS handshake timeout"},"write_buffer_size":{"type":"integer","description":"write buffer size"}}}}}}},"compress":{"type":"object","properties":{"compress_algorithm":{"type":"string","description":"compression algorithm. must be `gob`, `gzip`, `lz4` or `zstd`","enum":["gob","gzip","lz4","zstd"]},"compression_level":{"type":"integer","description":"compression level. value range relies on which algorithm is used. `gob`: level will be ignored. `gzip`: -1 (default compression), 0 (no compression), or 1 (best speed) to 9 (best compression). `lz4`: \u003e= 0, higher is better compression. `zstd`: 1 (fastest) to 22 (best), however implementation relies on klauspost/compress."}}},"filename":{"type":"string","description":"backup filename"},"filename_suffix":{"type":"string","description":"suffix for backup filename"},"post_stop_timeout":{"type":"string","description":"timeout for observing file changes during post stop"},"restore_backoff":{"type":"object","properties":{"backoff_factor":{"type":"number","description":"gRPC client backoff factor"},"backoff_time_limit":{"type":"string","description":"gRPC client backoff time limit"},"enable_error_log":{"type":"boolean","description":"gRPC client backoff log enabled"},"initial_duration":{"type":"string","description":"gRPC client backoff initial duration"},"jitter_limit":{"type":"string","description":"gRPC client backoff jitter limit"},"maximum_duration":{"type":"string","description":"gRPC client backoff maximum duration"},"retry_count":{"type":"integer","description":"gRPC client backoff retry count"}}},"restore_backoff_enabled":{"type":"boolean","description":"restore backoff enabled"},"watch_enabled":{"type":"boolean","description":"auto backup triggered by file changes is enabled"}}},"enabled":{"type":"boolean","description":"sidecar enabled"},"env":{"type":"array","description":"environment variables","items":{"type":"object"}},"image":{"type":"object","properties":{"pullPolicy":{"type":"string","description":"image pull policy","enum":["Always","Never","IfNotPresent"]},"repository":{"type":"string","description":"image repository"},"tag":{"type":"string","description":"image tag (overrides defaults.image.tag)"}}},"initContainerEnabled":{"type":"boolean","description":"sidecar on initContainer mode enabled."},"logging":{"type":"object","properties":{"format":{"type":"string","description":"logging format. logging format must be `raw` or `json`","enum":["raw","json"]},"level":{"type":"string","description":"logging level. logging level must be `debug`, `info`, `warn`, `error` or `fatal`.","enum":["debug","info","warn","error","fatal"]},"logger":{"type":"string","description":"logger name. currently logger must be `glg` or `zap`.","enum":["glg","zap"]}}},"name":{"type":"string","description":"name of agent sidecar"},"observability":{"type":"object","properties":{"enabled":{"type":"boolean","description":"observability features enabled"},"metrics":{"type":"object","properties":{"enable_cgo":{"type":"boolean","description":"CGO metrics enabled"},"enable_goroutine":{"type":"boolean","description":"goroutine metrics enabled"},"enable_memory":{"type":"boolean","description":"memory metrics enabled"},"enable_version_info":{"type":"boolean","description":"version info metrics enabled"},"version_info_labels":{"type":"array","description":"enabled label names of version info","items":{"type":"string","enum":["vald_version","server_name","git_commit","build_time","go_version","go_os","go_arch","cgo_enabled","ngt_version","build_cpu_info_flags"]}}}},"otlp":{"type":"object","properties":{"attribute":{"type":"object","description":"default resource attribute","properties":{"namespace":{"type":"string","description":"namespace"},"node_name":{"type":"string","description":"node name"},"pod_name":{"type":"string","description":"pod name"},"service_name":{"type":"string","description":"service name"}}},"collector_endpoint":{"type":"string","description":"OpenTelemetry Collector endpoint"},"metrics_export_interval":{"type":"string","description":"metrics export interval"},"metrics_export_timeout":{"type":"string","description":"metrics export timeout"},"trace_batch_timeout":{"type":"string","description":"trace batch timeout"},"trace_export_timeout":{"type":"string","description":"trace export timeout"},"trace_max_export_batch_size":{"type":"integer","description":"trace maximum export batch size"},"trace_max_queue_size":{"type":"integer","description":"trace maximum queue size"}}},"trace":{"type":"object","properties":{"enabled":{"type":"boolean","description":"trace enabled"}}}}},"resources":{"type":"object","description":"compute resources","properties":{"limits":{"type":"object"},"requests":{"type":"object"}}},"server_config":{"type":"object","properties":{"full_shutdown_duration":{"type":"string","description":"server full shutdown duration"},"healths":{"type":"object","properties":{"liveness":{"type":"object","properties":{"enabled":{"type":"boolean","description":"liveness server enabled"},"host":{"type":"string","description":"liveness server host"},"livenessProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"liveness probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"liveness probe path"},"port":{"type":"string","description":"liveness probe port"},"scheme":{"type":"string","description":"liveness probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"liveness probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"liveness probe period seconds"},"successThreshold":{"type":"integer","description":"liveness probe success threshold"},"timeoutSeconds":{"type":"integer","description":"liveness probe timeout seconds"}}},"port":{"type":"integer","description":"liveness server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"liveness server service port","maximum":65535,"minimum":0}}},"readiness":{"type":"object","properties":{"enabled":{"type":"boolean","description":"readiness server enabled"},"host":{"type":"string","description":"readiness server host"},"port":{"type":"integer","description":"readiness server port","maximum":65535,"minimum":0},"readinessProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"readiness probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"readiness probe path"},"port":{"type":"string","description":"readiness probe port"},"scheme":{"type":"string","description":"readiness probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"readiness probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"readiness probe period seconds"},"successThreshold":{"type":"integer","description":"readiness probe success threshold"},"timeoutSeconds":{"type":"integer","description":"readiness probe timeout seconds"}}},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"readiness server service port","maximum":65535,"minimum":0}}},"startup":{"type":"object","properties":{"enabled":{"type":"boolean","description":"startup server enabled"},"port":{"type":"integer","description":"startup server port","maximum":65535,"minimum":0},"startupProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"startup probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"startup probe path"},"port":{"type":"string","description":"startup probe port"},"scheme":{"type":"string","description":"startup probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"startup probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"startup probe period seconds"},"successThreshold":{"type":"integer","description":"startup probe success threshold"},"timeoutSeconds":{"type":"integer","description":"startup probe timeout seconds"}}}}}}},"metrics":{"type":"object","properties":{"pprof":{"type":"object","properties":{"enabled":{"type":"boolean","description":"pprof server enabled"},"host":{"type":"string","description":"pprof server host"},"port":{"type":"integer","description":"pprof server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"pprof server service port","maximum":65535,"minimum":0}}}}},"servers":{"type":"object","properties":{"grpc":{"type":"object","properties":{"enabled":{"type":"boolean","description":"gRPC server enabled"},"host":{"type":"string","description":"gRPC server host"},"port":{"type":"integer","description":"gRPC server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"grpc":{"type":"object","properties":{"bidirectional_stream_concurrency":{"type":"integer","description":"gRPC server bidirectional stream concurrency"},"connection_timeout":{"type":"string","description":"gRPC server connection timeout"},"enable_reflection":{"type":"boolean","description":"gRPC server reflection option"},"header_table_size":{"type":"integer","description":"gRPC server header table size"},"initial_conn_window_size":{"type":"integer","description":"gRPC server initial connection window size"},"initial_window_size":{"type":"integer","description":"gRPC server initial window size"},"interceptors":{"type":"array","description":"gRPC server interceptors","items":{"type":"string","enum":["RecoverInterceptor","AccessLogInterceptor","TraceInterceptor","MetricInterceptor"]}},"keepalive":{"type":"object","properties":{"max_conn_age":{"type":"string","description":"gRPC server keep alive max connection age"},"max_conn_age_grace":{"type":"string","description":"gRPC server keep alive max connection age grace"},"max_conn_idle":{"type":"string","description":"gRPC server keep alive max connection idle"},"min_time":{"type":"string","description":"gRPC server keep alive min_time"},"permit_without_stream":{"type":"boolean","description":"gRPC server keep alive permit_without_stream"},"time":{"type":"string","description":"gRPC server keep alive time"},"timeout":{"type":"string","description":"gRPC server keep alive timeout"}}},"max_header_list_size":{"type":"integer","description":"gRPC server max header list size"},"max_receive_message_size":{"type":"integer","description":"gRPC server max receive message size"},"max_send_message_size":{"type":"integer","description":"gRPC server max send message size"},"read_buffer_size":{"type":"integer","description":"gRPC server read buffer size"},"write_buffer_size":{"type":"integer","description":"gRPC server write buffer size"}}},"mode":{"type":"string","description":"gRPC server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"gRPC server probe wait time"},"restart":{"type":"boolean","description":"gRPC server restart"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"gRPC server service port","maximum":65535,"minimum":0}}},"rest":{"type":"object","properties":{"enabled":{"type":"boolean","description":"REST server enabled"},"host":{"type":"string","description":"REST server host"},"port":{"type":"integer","description":"REST server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"REST server service port","maximum":65535,"minimum":0}}}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"service":{"type":"object","properties":{"annotations":{"type":"object","description":"agent sidecar service annotations"},"enabled":{"type":"boolean","description":"agent sidecar service enabled"},"externalTrafficPolicy":{"type":"string","description":"external traffic policy (can be specified when service type is LoadBalancer or NodePort) : Cluster or Local"},"labels":{"type":"object","description":"agent sidecar service labels"},"type":{"type":"string","description":"service type: ClusterIP, LoadBalancer or NodePort","enum":["ClusterIP","LoadBalancer","NodePort"]}}},"time_zone":{"type":"string","description":"Time zone"},"version":{"type":"string","description":"version of gateway config","pattern":"^v[0-9]+\\.[0-9]+\\.[0-9]$"}}},"terminationGracePeriodSeconds":{"type":"integer","description":"duration in seconds pod needs to terminate gracefully","minimum":0},"time_zone":{"type":"string","description":"Time zone"},"tolerations":{"type":"array","description":"tolerations","items":{"type":"object"}},"topologySpreadConstraints":{"type":"array","description":"topology spread constraints of gateway pods","items":{"type":"object"}},"version":{"type":"string","description":"version of gateway config","pattern":"^v[0-9]+\\.[0-9]+\\.[0-9]$"},"volumeMounts":{"type":"array","description":"volume mounts","items":{"type":"object"}},"volumes":{"type":"array","description":"volumes","items":{"type":"object"}}}},"defaults":{"type":"object","properties":{"grpc":{"type":"object","properties":{"client":{"type":"object","properties":{"addrs":{"type":"array","description":"gRPC client addresses","items":{"type":"string"}},"backoff":{"type":"object","properties":{"backoff_factor":{"type":"number","description":"gRPC client backoff factor"},"backoff_time_limit":{"type":"string","description":"gRPC client backoff time limit"},"enable_error_log":{"type":"boolean","description":"gRPC client backoff log enabled"},"initial_duration":{"type":"string","description":"gRPC client backoff initial duration"},"jitter_limit":{"type":"string","description":"gRPC client backoff jitter limit"},"maximum_duration":{"type":"string","description":"gRPC client backoff maximum duration"},"retry_count":{"type":"integer","description":"gRPC client backoff retry count"}}},"call_option":{"type":"object"},"circuit_breaker":{"type":"object","properties":{"closed_error_rate":{"type":"number","description":"gRPC client circuitbreaker closed error rate"},"closed_refresh_timeout":{"type":"string","description":"gRPC client circuitbreaker closed refresh timeout"},"half_open_error_rate":{"type":"number","description":"gRPC client circuitbreaker half-open error rate"},"min_samples":{"type":"integer","description":"gRPC client circuitbreaker minimum sampling count"},"open_timeout":{"type":"string","description":"gRPC client circuitbreaker open timeout"}}},"connection_pool":{"type":"object","properties":{"enable_dns_resolver":{"type":"boolean","description":"enables gRPC client connection pool dns resolver, when enabled vald uses ip handshake exclude dns discovery which improves network performance"},"enable_rebalance":{"type":"boolean","description":"enables gRPC client connection pool rebalance"},"old_conn_close_duration":{"type":"string","description":"makes delay before gRPC client connection closing during connection pool rebalance"},"rebalance_duration":{"type":"string","description":"gRPC client connection pool rebalance duration"},"size":{"type":"integer","description":"gRPC client connection pool size"}}},"dial_option":{"type":"object","properties":{"backoff_base_delay":{"type":"string","description":"gRPC client dial option base backoff delay"},"backoff_jitter":{"type":"number","description":"gRPC client dial option base backoff delay"},"backoff_max_delay":{"type":"string","description":"gRPC client dial option max backoff delay"},"backoff_multiplier":{"type":"number","description":"gRPC client dial option base backoff delay"},"enable_backoff":{"type":"boolean","description":"gRPC client dial option backoff enabled"},"initial_connection_window_size":{"type":"integer","description":"gRPC client dial option initial connection window size"},"initial_window_size":{"type":"integer","description":"gRPC client dial option initial window size"},"insecure":{"type":"boolean","description":"gRPC client dial option insecure enabled"},"interceptors":{"type":"array","description":"gRPC client interceptors","items":{"type":"string","enum":["TraceInterceptor"]}},"keepalive":{"type":"object","properties":{"permit_without_stream":{"type":"boolean","description":"gRPC client keep alive permit without stream"},"time":{"type":"string","description":"gRPC client keep alive time"},"timeout":{"type":"string","description":"gRPC client keep alive timeout"}}},"max_msg_size":{"type":"integer","description":"gRPC client dial option max message size"},"min_connection_timeout":{"type":"string","description":"gRPC client dial option minimum connection timeout"},"net":{"type":"object","properties":{"dialer":{"type":"object","properties":{"dual_stack_enabled":{"type":"boolean","description":"gRPC client TCP dialer dual stack enabled"},"keepalive":{"type":"string","description":"gRPC client TCP dialer keep alive"},"timeout":{"type":"string","description":"gRPC client TCP dialer timeout"}}},"dns":{"type":"object","properties":{"cache_enabled":{"type":"boolean","description":"gRPC client TCP DNS cache enabled"},"cache_expiration":{"type":"string","description":"gRPC client TCP DNS cache expiration"},"refresh_duration":{"type":"string","description":"gRPC client TCP DNS cache refresh duration"}}},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"read_buffer_size":{"type":"integer","description":"gRPC client dial option read buffer size"},"timeout":{"type":"string","description":"gRPC client dial option timeout"},"write_buffer_size":{"type":"integer","description":"gRPC client dial option write buffer size"}}},"health_check_duration":{"type":"string","description":"gRPC client health check duration"},"max_recv_msg_size":{"type":"integer"},"max_retry_rpc_buffer_size":{"type":"integer"},"max_send_msg_size":{"type":"integer"},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}},"wait_for_ready":{"type":"boolean"}}}}},"image":{"type":"object","properties":{"tag":{"type":"string","description":"docker image tag"}}},"logging":{"type":"object","properties":{"format":{"type":"string","description":"logging format. logging format must be `raw` or `json`","enum":["raw","json"]},"level":{"type":"string","description":"logging level. logging level must be `debug`, `info`, `warn`, `error` or `fatal`.","enum":["debug","info","warn","error","fatal"]},"logger":{"type":"string","description":"logger name. currently logger must be `glg` or `zap`.","enum":["glg","zap"]}}},"networkPolicy":{"type":"object","properties":{"custom":{"type":"object","description":"custom network policies that a user can add","properties":{"egress":{"type":"object","description":"custom egress network policies that a user can add"},"ingress":{"type":"object","description":"custom ingress network policies that a user can add"}}},"enabled":{"type":"boolean","description":"if network policy enabled"}}},"observability":{"type":"object","properties":{"enabled":{"type":"boolean","description":"observability features enabled"},"metrics":{"type":"object","properties":{"enable_cgo":{"type":"boolean","description":"CGO metrics enabled"},"enable_goroutine":{"type":"boolean","description":"goroutine metrics enabled"},"enable_memory":{"type":"boolean","description":"memory metrics enabled"},"enable_version_info":{"type":"boolean","description":"version info metrics enabled"},"version_info_labels":{"type":"array","description":"enabled label names of version info","items":{"type":"string","enum":["vald_version","server_name","git_commit","build_time","go_version","go_os","go_arch","cgo_enabled","ngt_version","build_cpu_info_flags"]}}}},"otlp":{"type":"object","properties":{"attribute":{"type":"object","description":"default resource attribute","properties":{"namespace":{"type":"string","description":"namespace"},"node_name":{"type":"string","description":"node name"},"pod_name":{"type":"string","description":"pod name"},"service_name":{"type":"string","description":"service name"}}},"collector_endpoint":{"type":"string","description":"OpenTelemetry Collector endpoint"},"metrics_export_interval":{"type":"string","description":"metrics export interval"},"metrics_export_timeout":{"type":"string","description":"metrics export timeout"},"trace_batch_timeout":{"type":"string","description":"trace batch timeout"},"trace_export_timeout":{"type":"string","description":"trace export timeout"},"trace_max_export_batch_size":{"type":"integer","description":"trace maximum export batch size"},"trace_max_queue_size":{"type":"integer","description":"trace maximum queue size"}}},"trace":{"type":"object","properties":{"enabled":{"type":"boolean","description":"trace enabled"}}}}},"server_config":{"type":"object","properties":{"full_shutdown_duration":{"type":"string","description":"server full shutdown duration"},"healths":{"type":"object","properties":{"liveness":{"type":"object","properties":{"enabled":{"type":"boolean","description":"liveness server enabled"},"host":{"type":"string","description":"liveness server host"},"livenessProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"liveness probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"liveness probe path"},"port":{"type":"string","description":"liveness probe port"},"scheme":{"type":"string","description":"liveness probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"liveness probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"liveness probe period seconds"},"successThreshold":{"type":"integer","description":"liveness probe success threshold"},"timeoutSeconds":{"type":"integer","description":"liveness probe timeout seconds"}}},"port":{"type":"integer","description":"liveness server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"liveness server service port","maximum":65535,"minimum":0}}},"readiness":{"type":"object","properties":{"enabled":{"type":"boolean","description":"readiness server enabled"},"host":{"type":"string","description":"readiness server host"},"port":{"type":"integer","description":"readiness server port","maximum":65535,"minimum":0},"readinessProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"readiness probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"readiness probe path"},"port":{"type":"string","description":"readiness probe port"},"scheme":{"type":"string","description":"readiness probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"readiness probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"readiness probe period seconds"},"successThreshold":{"type":"integer","description":"readiness probe success threshold"},"timeoutSeconds":{"type":"integer","description":"readiness probe timeout seconds"}}},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"readiness server service port","maximum":65535,"minimum":0}}},"startup":{"type":"object","properties":{"enabled":{"type":"boolean","description":"startup server enabled"},"port":{"type":"integer","description":"startup server port","maximum":65535,"minimum":0},"startupProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"startup probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"startup probe path"},"port":{"type":"string","description":"startup probe port"},"scheme":{"type":"string","description":"startup probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"startup probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"startup probe period seconds"},"successThreshold":{"type":"integer","description":"startup probe success threshold"},"timeoutSeconds":{"type":"integer","description":"startup probe timeout seconds"}}}}}}},"metrics":{"type":"object","properties":{"pprof":{"type":"object","properties":{"enabled":{"type":"boolean","description":"pprof server enabled"},"host":{"type":"string","description":"pprof server host"},"port":{"type":"integer","description":"pprof server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"pprof server service port","maximum":65535,"minimum":0}}}}},"servers":{"type":"object","properties":{"grpc":{"type":"object","properties":{"enabled":{"type":"boolean","description":"gRPC server enabled"},"host":{"type":"string","description":"gRPC server host"},"port":{"type":"integer","description":"gRPC server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"grpc":{"type":"object","properties":{"bidirectional_stream_concurrency":{"type":"integer","description":"gRPC server bidirectional stream concurrency"},"connection_timeout":{"type":"string","description":"gRPC server connection timeout"},"enable_reflection":{"type":"boolean","description":"gRPC server reflection option"},"header_table_size":{"type":"integer","description":"gRPC server header table size"},"initial_conn_window_size":{"type":"integer","description":"gRPC server initial connection window size"},"initial_window_size":{"type":"integer","description":"gRPC server initial window size"},"interceptors":{"type":"array","description":"gRPC server interceptors","items":{"type":"string","enum":["RecoverInterceptor","AccessLogInterceptor","TraceInterceptor","MetricInterceptor"]}},"keepalive":{"type":"object","properties":{"max_conn_age":{"type":"string","description":"gRPC server keep alive max connection age"},"max_conn_age_grace":{"type":"string","description":"gRPC server keep alive max connection age grace"},"max_conn_idle":{"type":"string","description":"gRPC server keep alive max connection idle"},"min_time":{"type":"string","description":"gRPC server keep alive min_time"},"permit_without_stream":{"type":"boolean","description":"gRPC server keep alive permit_without_stream"},"time":{"type":"string","description":"gRPC server keep alive time"},"timeout":{"type":"string","description":"gRPC server keep alive timeout"}}},"max_header_list_size":{"type":"integer","description":"gRPC server max header list size"},"max_receive_message_size":{"type":"integer","description":"gRPC server max receive message size"},"max_send_message_size":{"type":"integer","description":"gRPC server max send message size"},"read_buffer_size":{"type":"integer","description":"gRPC server read buffer size"},"write_buffer_size":{"type":"integer","description":"gRPC server write buffer size"}}},"mode":{"type":"string","description":"gRPC server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"gRPC server probe wait time"},"restart":{"type":"boolean","description":"gRPC server restart"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"gRPC server service port","maximum":65535,"minimum":0}}},"rest":{"type":"object","properties":{"enabled":{"type":"boolean","description":"REST server enabled"},"host":{"type":"string","description":"REST server host"},"port":{"type":"integer","description":"REST server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"REST server service port","maximum":65535,"minimum":0}}}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"time_zone":{"type":"string","description":"Time zone"}}},"discoverer":{"type":"object","properties":{"affinity":{"type":"object","properties":{"nodeAffinity":{"type":"object","properties":{"preferredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"node affinity preferred scheduling terms","items":{"type":"object"}},"requiredDuringSchedulingIgnoredDuringExecution":{"type":"object","properties":{"nodeSelectorTerms":{"type":"array","description":"node affinity required node selectors","items":{"type":"object"}}}}}},"podAffinity":{"type":"object","properties":{"preferredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod affinity preferred scheduling terms","items":{"type":"object"}},"requiredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod affinity required scheduling terms","items":{"type":"object"}}}},"podAntiAffinity":{"type":"object","properties":{"preferredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod anti-affinity preferred scheduling terms","items":{"type":"object"}},"requiredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod anti-affinity required scheduling terms","items":{"type":"object"}}}}}},"annotations":{"type":"object","description":"deployment annotations"},"clusterRole":{"type":"object","properties":{"enabled":{"type":"boolean","description":"creates clusterRole resource"},"name":{"type":"string","description":"name of clusterRole"}}},"clusterRoleBinding":{"type":"object","properties":{"enabled":{"type":"boolean","description":"creates clusterRoleBinding resource"},"name":{"type":"string","description":"name of clusterRoleBinding"}}},"discoverer":{"type":"object","properties":{"discovery_duration":{"type":"string","description":"duration to discovery"},"name":{"type":"string","description":"name to discovery"},"namespace":{"type":"string","description":"namespace to discovery"},"net":{"type":"object","properties":{"dialer":{"type":"object","properties":{"dual_stack_enabled":{"type":"boolean","description":"gRPC client TCP dialer dual stack enabled"},"keepalive":{"type":"string","description":"gRPC client TCP dialer keep alive"},"timeout":{"type":"string","description":"gRPC client TCP dialer timeout"}}},"dns":{"type":"object","properties":{"cache_enabled":{"type":"boolean","description":"gRPC client TCP DNS cache enabled"},"cache_expiration":{"type":"string","description":"gRPC client TCP DNS cache expiration"},"refresh_duration":{"type":"string","description":"gRPC client TCP DNS cache refresh duration"}}},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"selectors":{"type":"object","description":"k8s resource selectors","properties":{"node":{"type":"object","description":"k8s resource selectors for node discovery","properties":{"fields":{"type":"object","description":"k8s field selectors for node discovery"},"labels":{"type":"object","description":"k8s label selectors for node discovery"}}},"node_metrics":{"type":"object","description":"k8s resource selectors for node_metrics discovery","properties":{"fields":{"type":"object","description":"k8s field selectors for node_metrics discovery"},"labels":{"type":"object","description":"k8s label selectors for node_metrics discovery"}}},"pod":{"type":"object","description":"k8s resource selectors for pod discovery","properties":{"fields":{"type":"object","description":"k8s field selectors for pod discovery"},"labels":{"type":"object","description":"k8s label selectors for pod discovery"}}},"pod_metrics":{"type":"object","description":"k8s resource selectors for pod_metrics discovery","properties":{"fields":{"type":"object","description":"k8s field selectors for pod_metrics discovery"},"labels":{"type":"object","description":"k8s label selectors for pod_metrics discovery"}}}}}}},"enabled":{"type":"boolean","description":"discoverer enabled"},"env":{"type":"array","description":"environment variables","items":{"type":"object"}},"externalTrafficPolicy":{"type":"string","description":"external traffic policy (can be specified when service type is LoadBalancer or NodePort) : Cluster or Local"},"hpa":{"type":"object","properties":{"enabled":{"type":"boolean","description":"HPA enabled"},"targetCPUUtilizationPercentage":{"type":"integer","description":"HPA CPU utilization percentage"}}},"image":{"type":"object","properties":{"pullPolicy":{"type":"string","description":"image pull policy","enum":["Always","Never","IfNotPresent"]},"repository":{"type":"string","description":"image repository"},"tag":{"type":"string","description":"image tag (overrides defaults.image.tag)"}}},"initContainers":{"type":"array","description":"init containers","items":{"type":"object"}},"internalTrafficPolicy":{"type":"string","description":"internal traffic policy : Cluster or Local"},"kind":{"type":"string","description":"deployment kind: Deployment or DaemonSet","enum":["Deployment","DaemonSet"]},"logging":{"type":"object","properties":{"format":{"type":"string","description":"logging format. logging format must be `raw` or `json`","enum":["raw","json"]},"level":{"type":"string","description":"logging level. logging level must be `debug`, `info`, `warn`, `error` or `fatal`.","enum":["debug","info","warn","error","fatal"]},"logger":{"type":"string","description":"logger name. currently logger must be `glg` or `zap`.","enum":["glg","zap"]}}},"maxReplicas":{"type":"integer","description":"maximum number of replicas. if HPA is disabled, this value will be ignored.","minimum":0},"maxUnavailable":{"type":"string","description":"maximum number of unavailable replicas"},"minReplicas":{"type":"integer","description":"minimum number of replicas. if HPA is disabled, the replicas will be set to this value","minimum":0},"name":{"type":"string","description":"name of discoverer deployment"},"nodeName":{"type":"string","description":"node name"},"nodeSelector":{"type":"object","description":"node selector"},"observability":{"type":"object","properties":{"enabled":{"type":"boolean","description":"observability features enabled"},"metrics":{"type":"object","properties":{"enable_cgo":{"type":"boolean","description":"CGO metrics enabled"},"enable_goroutine":{"type":"boolean","description":"goroutine metrics enabled"},"enable_memory":{"type":"boolean","description":"memory metrics enabled"},"enable_version_info":{"type":"boolean","description":"version info metrics enabled"},"version_info_labels":{"type":"array","description":"enabled label names of version info","items":{"type":"string","enum":["vald_version","server_name","git_commit","build_time","go_version","go_os","go_arch","cgo_enabled","ngt_version","build_cpu_info_flags"]}}}},"otlp":{"type":"object","properties":{"attribute":{"type":"object","description":"default resource attribute","properties":{"namespace":{"type":"string","description":"namespace"},"node_name":{"type":"string","description":"node name"},"pod_name":{"type":"string","description":"pod name"},"service_name":{"type":"string","description":"service name"}}},"collector_endpoint":{"type":"string","description":"OpenTelemetry Collector endpoint"},"metrics_export_interval":{"type":"string","description":"metrics export interval"},"metrics_export_timeout":{"type":"string","description":"metrics export timeout"},"trace_batch_timeout":{"type":"string","description":"trace batch timeout"},"trace_export_timeout":{"type":"string","description":"trace export timeout"},"trace_max_export_batch_size":{"type":"integer","description":"trace maximum export batch size"},"trace_max_queue_size":{"type":"integer","description":"trace maximum queue size"}}},"trace":{"type":"object","properties":{"enabled":{"type":"boolean","description":"trace enabled"}}}}},"podAnnotations":{"type":"object","description":"pod annotations"},"podPriority":{"type":"object","properties":{"enabled":{"type":"boolean","description":"gateway pod PriorityClass enabled"},"value":{"type":"integer","description":"gateway pod PriorityClass value"}}},"podSecurityContext":{"type":"object","description":"security context for pod"},"progressDeadlineSeconds":{"type":"integer","description":"progress deadline seconds"},"resources":{"type":"object","description":"compute resources","properties":{"limits":{"type":"object"},"requests":{"type":"object"}}},"revisionHistoryLimit":{"type":"integer","description":"number of old history to retain to allow rollback","minimum":0},"rollingUpdate":{"type":"object","properties":{"maxSurge":{"type":"string","description":"max surge of rolling update"},"maxUnavailable":{"type":"string","description":"max unavailable of rolling update"}}},"securityContext":{"type":"object","description":"security context for container"},"server_config":{"type":"object","properties":{"full_shutdown_duration":{"type":"string","description":"server full shutdown duration"},"healths":{"type":"object","properties":{"liveness":{"type":"object","properties":{"enabled":{"type":"boolean","description":"liveness server enabled"},"host":{"type":"string","description":"liveness server host"},"livenessProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"liveness probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"liveness probe path"},"port":{"type":"string","description":"liveness probe port"},"scheme":{"type":"string","description":"liveness probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"liveness probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"liveness probe period seconds"},"successThreshold":{"type":"integer","description":"liveness probe success threshold"},"timeoutSeconds":{"type":"integer","description":"liveness probe timeout seconds"}}},"port":{"type":"integer","description":"liveness server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"liveness server service port","maximum":65535,"minimum":0}}},"readiness":{"type":"object","properties":{"enabled":{"type":"boolean","description":"readiness server enabled"},"host":{"type":"string","description":"readiness server host"},"port":{"type":"integer","description":"readiness server port","maximum":65535,"minimum":0},"readinessProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"readiness probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"readiness probe path"},"port":{"type":"string","description":"readiness probe port"},"scheme":{"type":"string","description":"readiness probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"readiness probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"readiness probe period seconds"},"successThreshold":{"type":"integer","description":"readiness probe success threshold"},"timeoutSeconds":{"type":"integer","description":"readiness probe timeout seconds"}}},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"readiness server service port","maximum":65535,"minimum":0}}},"startup":{"type":"object","properties":{"enabled":{"type":"boolean","description":"startup server enabled"},"port":{"type":"integer","description":"startup server port","maximum":65535,"minimum":0},"startupProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"startup probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"startup probe path"},"port":{"type":"string","description":"startup probe port"},"scheme":{"type":"string","description":"startup probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"startup probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"startup probe period seconds"},"successThreshold":{"type":"integer","description":"startup probe success threshold"},"timeoutSeconds":{"type":"integer","description":"startup probe timeout seconds"}}}}}}},"metrics":{"type":"object","properties":{"pprof":{"type":"object","properties":{"enabled":{"type":"boolean","description":"pprof server enabled"},"host":{"type":"string","description":"pprof server host"},"port":{"type":"integer","description":"pprof server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"pprof server service port","maximum":65535,"minimum":0}}}}},"servers":{"type":"object","properties":{"grpc":{"type":"object","properties":{"enabled":{"type":"boolean","description":"gRPC server enabled"},"host":{"type":"string","description":"gRPC server host"},"port":{"type":"integer","description":"gRPC server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"grpc":{"type":"object","properties":{"bidirectional_stream_concurrency":{"type":"integer","description":"gRPC server bidirectional stream concurrency"},"connection_timeout":{"type":"string","description":"gRPC server connection timeout"},"enable_reflection":{"type":"boolean","description":"gRPC server reflection option"},"header_table_size":{"type":"integer","description":"gRPC server header table size"},"initial_conn_window_size":{"type":"integer","description":"gRPC server initial connection window size"},"initial_window_size":{"type":"integer","description":"gRPC server initial window size"},"interceptors":{"type":"array","description":"gRPC server interceptors","items":{"type":"string","enum":["RecoverInterceptor","AccessLogInterceptor","TraceInterceptor","MetricInterceptor"]}},"keepalive":{"type":"object","properties":{"max_conn_age":{"type":"string","description":"gRPC server keep alive max connection age"},"max_conn_age_grace":{"type":"string","description":"gRPC server keep alive max connection age grace"},"max_conn_idle":{"type":"string","description":"gRPC server keep alive max connection idle"},"min_time":{"type":"string","description":"gRPC server keep alive min_time"},"permit_without_stream":{"type":"boolean","description":"gRPC server keep alive permit_without_stream"},"time":{"type":"string","description":"gRPC server keep alive time"},"timeout":{"type":"string","description":"gRPC server keep alive timeout"}}},"max_header_list_size":{"type":"integer","description":"gRPC server max header list size"},"max_receive_message_size":{"type":"integer","description":"gRPC server max receive message size"},"max_send_message_size":{"type":"integer","description":"gRPC server max send message size"},"read_buffer_size":{"type":"integer","description":"gRPC server read buffer size"},"write_buffer_size":{"type":"integer","description":"gRPC server write buffer size"}}},"mode":{"type":"string","description":"gRPC server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"gRPC server probe wait time"},"restart":{"type":"boolean","description":"gRPC server restart"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"gRPC server service port","maximum":65535,"minimum":0}}},"rest":{"type":"object","properties":{"enabled":{"type":"boolean","description":"REST server enabled"},"host":{"type":"string","description":"REST server host"},"port":{"type":"integer","description":"REST server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"REST server service port","maximum":65535,"minimum":0}}}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"service":{"type":"object","properties":{"annotations":{"type":"object","description":"service annotations"},"labels":{"type":"object","description":"service labels"}}},"serviceAccount":{"type":"object","properties":{"enabled":{"type":"boolean","description":"creates service account"},"name":{"type":"string","description":"name of service account"}}},"serviceType":{"type":"string","description":"service type: ClusterIP, LoadBalancer or NodePort","enum":["ClusterIP","LoadBalancer","NodePort"]},"terminationGracePeriodSeconds":{"type":"integer","description":"duration in seconds pod needs to terminate gracefully","minimum":0},"time_zone":{"type":"string","description":"Time zone"},"tolerations":{"type":"array","description":"tolerations","items":{"type":"object"}},"topologySpreadConstraints":{"type":"array","description":"topology spread constraints of gateway pods","items":{"type":"object"}},"version":{"type":"string","description":"version of gateway config","pattern":"^v[0-9]+\\.[0-9]+\\.[0-9]$"},"volumeMounts":{"type":"array","description":"volume mounts","items":{"type":"object"}},"volumes":{"type":"array","description":"volumes","items":{"type":"object"}}}},"gateway":{"type":"object","properties":{"filter":{"type":"object","properties":{"affinity":{"type":"object","properties":{"nodeAffinity":{"type":"object","properties":{"preferredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"node affinity preferred scheduling terms","items":{"type":"object"}},"requiredDuringSchedulingIgnoredDuringExecution":{"type":"object","properties":{"nodeSelectorTerms":{"type":"array","description":"node affinity required node selectors","items":{"type":"object"}}}}}},"podAffinity":{"type":"object","properties":{"preferredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod affinity preferred scheduling terms","items":{"type":"object"}},"requiredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod affinity required scheduling terms","items":{"type":"object"}}}},"podAntiAffinity":{"type":"object","properties":{"preferredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod anti-affinity preferred scheduling terms","items":{"type":"object"}},"requiredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod anti-affinity required scheduling terms","items":{"type":"object"}}}}}},"annotations":{"type":"object","description":"deployment annotations"},"enabled":{"type":"boolean","description":"gateway enabled"},"env":{"type":"array","description":"environment variables","items":{"type":"object"}},"externalTrafficPolicy":{"type":"string","description":"external traffic policy (can be specified when service type is LoadBalancer or NodePort) : Cluster or Local"},"gateway_config":{"type":"object","properties":{"egress_filter":{"type":"object","description":"gRPC client config for egress filter","properties":{"client":{"type":"object","properties":{"addrs":{"type":"array","description":"gRPC client addresses","items":{"type":"string"}},"backoff":{"type":"object","properties":{"backoff_factor":{"type":"number","description":"gRPC client backoff factor"},"backoff_time_limit":{"type":"string","description":"gRPC client backoff time limit"},"enable_error_log":{"type":"boolean","description":"gRPC client backoff log enabled"},"initial_duration":{"type":"string","description":"gRPC client backoff initial duration"},"jitter_limit":{"type":"string","description":"gRPC client backoff jitter limit"},"maximum_duration":{"type":"string","description":"gRPC client backoff maximum duration"},"retry_count":{"type":"integer","description":"gRPC client backoff retry count"}}},"call_option":{"type":"object"},"circuit_breaker":{"type":"object","properties":{"closed_error_rate":{"type":"number","description":"gRPC client circuitbreaker closed error rate"},"closed_refresh_timeout":{"type":"string","description":"gRPC client circuitbreaker closed refresh timeout"},"half_open_error_rate":{"type":"number","description":"gRPC client circuitbreaker half-open error rate"},"min_samples":{"type":"integer","description":"gRPC client circuitbreaker minimum sampling count"},"open_timeout":{"type":"string","description":"gRPC client circuitbreaker open timeout"}}},"connection_pool":{"type":"object","properties":{"enable_dns_resolver":{"type":"boolean","description":"enables gRPC client connection pool dns resolver, when enabled vald uses ip handshake exclude dns discovery which improves network performance"},"enable_rebalance":{"type":"boolean","description":"enables gRPC client connection pool rebalance"},"old_conn_close_duration":{"type":"string","description":"makes delay before gRPC client connection closing during connection pool rebalance"},"rebalance_duration":{"type":"string","description":"gRPC client connection pool rebalance duration"},"size":{"type":"integer","description":"gRPC client connection pool size"}}},"dial_option":{"type":"object","properties":{"backoff_base_delay":{"type":"string","description":"gRPC client dial option base backoff delay"},"backoff_jitter":{"type":"number","description":"gRPC client dial option base backoff delay"},"backoff_max_delay":{"type":"string","description":"gRPC client dial option max backoff delay"},"backoff_multiplier":{"type":"number","description":"gRPC client dial option base backoff delay"},"enable_backoff":{"type":"boolean","description":"gRPC client dial option backoff enabled"},"initial_connection_window_size":{"type":"integer","description":"gRPC client dial option initial connection window size"},"initial_window_size":{"type":"integer","description":"gRPC client dial option initial window size"},"insecure":{"type":"boolean","description":"gRPC client dial option insecure enabled"},"interceptors":{"type":"array","description":"gRPC client interceptors","items":{"type":"string","enum":["TraceInterceptor"]}},"keepalive":{"type":"object","properties":{"permit_without_stream":{"type":"boolean","description":"gRPC client keep alive permit without stream"},"time":{"type":"string","description":"gRPC client keep alive time"},"timeout":{"type":"string","description":"gRPC client keep alive timeout"}}},"max_msg_size":{"type":"integer","description":"gRPC client dial option max message size"},"min_connection_timeout":{"type":"string","description":"gRPC client dial option minimum connection timeout"},"net":{"type":"object","properties":{"dialer":{"type":"object","properties":{"dual_stack_enabled":{"type":"boolean","description":"gRPC client TCP dialer dual stack enabled"},"keepalive":{"type":"string","description":"gRPC client TCP dialer keep alive"},"timeout":{"type":"string","description":"gRPC client TCP dialer timeout"}}},"dns":{"type":"object","properties":{"cache_enabled":{"type":"boolean","description":"gRPC client TCP DNS cache enabled"},"cache_expiration":{"type":"string","description":"gRPC client TCP DNS cache expiration"},"refresh_duration":{"type":"string","description":"gRPC client TCP DNS cache refresh duration"}}},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"read_buffer_size":{"type":"integer","description":"gRPC client dial option read buffer size"},"timeout":{"type":"string","description":"gRPC client dial option timeout"},"write_buffer_size":{"type":"integer","description":"gRPC client dial option write buffer size"}}},"health_check_duration":{"type":"string","description":"gRPC client health check duration"},"max_recv_msg_size":{"type":"integer"},"max_retry_rpc_buffer_size":{"type":"integer"},"max_send_msg_size":{"type":"integer"},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}},"wait_for_ready":{"type":"boolean"}}},"distance_filters":{"type":"array","description":"distance egress vector filter targets","items":{"type":"string"}},"object_filters":{"type":"array","description":"object egress vector filter targets","items":{"type":"string"}}}},"gateway_client":{"type":"object","properties":{"addrs":{"type":"array","description":"gRPC client addresses","items":{"type":"string"}},"backoff":{"type":"object","properties":{"backoff_factor":{"type":"number","description":"gRPC client backoff factor"},"backoff_time_limit":{"type":"string","description":"gRPC client backoff time limit"},"enable_error_log":{"type":"boolean","description":"gRPC client backoff log enabled"},"initial_duration":{"type":"string","description":"gRPC client backoff initial duration"},"jitter_limit":{"type":"string","description":"gRPC client backoff jitter limit"},"maximum_duration":{"type":"string","description":"gRPC client backoff maximum duration"},"retry_count":{"type":"integer","description":"gRPC client backoff retry count"}}},"call_option":{"type":"object"},"circuit_breaker":{"type":"object","properties":{"closed_error_rate":{"type":"number","description":"gRPC client circuitbreaker closed error rate"},"closed_refresh_timeout":{"type":"string","description":"gRPC client circuitbreaker closed refresh timeout"},"half_open_error_rate":{"type":"number","description":"gRPC client circuitbreaker half-open error rate"},"min_samples":{"type":"integer","description":"gRPC client circuitbreaker minimum sampling count"},"open_timeout":{"type":"string","description":"gRPC client circuitbreaker open timeout"}}},"connection_pool":{"type":"object","properties":{"enable_dns_resolver":{"type":"boolean","description":"enables gRPC client connection pool dns resolver, when enabled vald uses ip handshake exclude dns discovery which improves network performance"},"enable_rebalance":{"type":"boolean","description":"enables gRPC client connection pool rebalance"},"old_conn_close_duration":{"type":"string","description":"makes delay before gRPC client connection closing during connection pool rebalance"},"rebalance_duration":{"type":"string","description":"gRPC client connection pool rebalance duration"},"size":{"type":"integer","description":"gRPC client connection pool size"}}},"dial_option":{"type":"object","properties":{"backoff_base_delay":{"type":"string","description":"gRPC client dial option base backoff delay"},"backoff_jitter":{"type":"number","description":"gRPC client dial option base backoff delay"},"backoff_max_delay":{"type":"string","description":"gRPC client dial option max backoff delay"},"backoff_multiplier":{"type":"number","description":"gRPC client dial option base backoff delay"},"enable_backoff":{"type":"boolean","description":"gRPC client dial option backoff enabled"},"initial_connection_window_size":{"type":"integer","description":"gRPC client dial option initial connection window size"},"initial_window_size":{"type":"integer","description":"gRPC client dial option initial window size"},"insecure":{"type":"boolean","description":"gRPC client dial option insecure enabled"},"interceptors":{"type":"array","description":"gRPC client interceptors","items":{"type":"string","enum":["TraceInterceptor"]}},"keepalive":{"type":"object","properties":{"permit_without_stream":{"type":"boolean","description":"gRPC client keep alive permit without stream"},"time":{"type":"string","description":"gRPC client keep alive time"},"timeout":{"type":"string","description":"gRPC client keep alive timeout"}}},"max_msg_size":{"type":"integer","description":"gRPC client dial option max message size"},"min_connection_timeout":{"type":"string","description":"gRPC client dial option minimum connection timeout"},"net":{"type":"object","properties":{"dialer":{"type":"object","properties":{"dual_stack_enabled":{"type":"boolean","description":"gRPC client TCP dialer dual stack enabled"},"keepalive":{"type":"string","description":"gRPC client TCP dialer keep alive"},"timeout":{"type":"string","description":"gRPC client TCP dialer timeout"}}},"dns":{"type":"object","properties":{"cache_enabled":{"type":"boolean","description":"gRPC client TCP DNS cache enabled"},"cache_expiration":{"type":"string","description":"gRPC client TCP DNS cache expiration"},"refresh_duration":{"type":"string","description":"gRPC client TCP DNS cache refresh duration"}}},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"read_buffer_size":{"type":"integer","description":"gRPC client dial option read buffer size"},"timeout":{"type":"string","description":"gRPC client dial option timeout"},"write_buffer_size":{"type":"integer","description":"gRPC client dial option write buffer size"}}},"health_check_duration":{"type":"string","description":"gRPC client health check duration"},"max_recv_msg_size":{"type":"integer"},"max_retry_rpc_buffer_size":{"type":"integer"},"max_send_msg_size":{"type":"integer"},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}},"wait_for_ready":{"type":"boolean"}}},"ingress_filter":{"type":"object","description":"gRPC client config for ingress filter","properties":{"client":{"type":"object","properties":{"addrs":{"type":"array","description":"gRPC client addresses","items":{"type":"string"}},"backoff":{"type":"object","properties":{"backoff_factor":{"type":"number","description":"gRPC client backoff factor"},"backoff_time_limit":{"type":"string","description":"gRPC client backoff time limit"},"enable_error_log":{"type":"boolean","description":"gRPC client backoff log enabled"},"initial_duration":{"type":"string","description":"gRPC client backoff initial duration"},"jitter_limit":{"type":"string","description":"gRPC client backoff jitter limit"},"maximum_duration":{"type":"string","description":"gRPC client backoff maximum duration"},"retry_count":{"type":"integer","description":"gRPC client backoff retry count"}}},"call_option":{"type":"object"},"circuit_breaker":{"type":"object","properties":{"closed_error_rate":{"type":"number","description":"gRPC client circuitbreaker closed error rate"},"closed_refresh_timeout":{"type":"string","description":"gRPC client circuitbreaker closed refresh timeout"},"half_open_error_rate":{"type":"number","description":"gRPC client circuitbreaker half-open error rate"},"min_samples":{"type":"integer","description":"gRPC client circuitbreaker minimum sampling count"},"open_timeout":{"type":"string","description":"gRPC client circuitbreaker open timeout"}}},"connection_pool":{"type":"object","properties":{"enable_dns_resolver":{"type":"boolean","description":"enables gRPC client connection pool dns resolver, when enabled vald uses ip handshake exclude dns discovery which improves network performance"},"enable_rebalance":{"type":"boolean","description":"enables gRPC client connection pool rebalance"},"old_conn_close_duration":{"type":"string","description":"makes delay before gRPC client connection closing during connection pool rebalance"},"rebalance_duration":{"type":"string","description":"gRPC client connection pool rebalance duration"},"size":{"type":"integer","description":"gRPC client connection pool size"}}},"dial_option":{"type":"object","properties":{"backoff_base_delay":{"type":"string","description":"gRPC client dial option base backoff delay"},"backoff_jitter":{"type":"number","description":"gRPC client dial option base backoff delay"},"backoff_max_delay":{"type":"string","description":"gRPC client dial option max backoff delay"},"backoff_multiplier":{"type":"number","description":"gRPC client dial option base backoff delay"},"enable_backoff":{"type":"boolean","description":"gRPC client dial option backoff enabled"},"initial_connection_window_size":{"type":"integer","description":"gRPC client dial option initial connection window size"},"initial_window_size":{"type":"integer","description":"gRPC client dial option initial window size"},"insecure":{"type":"boolean","description":"gRPC client dial option insecure enabled"},"interceptors":{"type":"array","description":"gRPC client interceptors","items":{"type":"string","enum":["TraceInterceptor"]}},"keepalive":{"type":"object","properties":{"permit_without_stream":{"type":"boolean","description":"gRPC client keep alive permit without stream"},"time":{"type":"string","description":"gRPC client keep alive time"},"timeout":{"type":"string","description":"gRPC client keep alive timeout"}}},"max_msg_size":{"type":"integer","description":"gRPC client dial option max message size"},"min_connection_timeout":{"type":"string","description":"gRPC client dial option minimum connection timeout"},"net":{"type":"object","properties":{"dialer":{"type":"object","properties":{"dual_stack_enabled":{"type":"boolean","description":"gRPC client TCP dialer dual stack enabled"},"keepalive":{"type":"string","description":"gRPC client TCP dialer keep alive"},"timeout":{"type":"string","description":"gRPC client TCP dialer timeout"}}},"dns":{"type":"object","properties":{"cache_enabled":{"type":"boolean","description":"gRPC client TCP DNS cache enabled"},"cache_expiration":{"type":"string","description":"gRPC client TCP DNS cache expiration"},"refresh_duration":{"type":"string","description":"gRPC client TCP DNS cache refresh duration"}}},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"read_buffer_size":{"type":"integer","description":"gRPC client dial option read buffer size"},"timeout":{"type":"string","description":"gRPC client dial option timeout"},"write_buffer_size":{"type":"integer","description":"gRPC client dial option write buffer size"}}},"health_check_duration":{"type":"string","description":"gRPC client health check duration"},"max_recv_msg_size":{"type":"integer"},"max_retry_rpc_buffer_size":{"type":"integer"},"max_send_msg_size":{"type":"integer"},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}},"wait_for_ready":{"type":"boolean"}}},"insert_filters":{"type":"array","description":"insert ingress vector filter targets","items":{"type":"string"}},"search_filters":{"type":"array","description":"search ingress vector filter targets","items":{"type":"string"}},"update_filters":{"type":"array","description":"update ingress vector filter targets","items":{"type":"string"}},"upsert_filters":{"type":"array","description":"upsert ingress vector filter targets","items":{"type":"string"}},"vectorizer":{"type":"string","description":"object ingress vectorize filter targets"}}}}},"hpa":{"type":"object","properties":{"enabled":{"type":"boolean","description":"HPA enabled"},"targetCPUUtilizationPercentage":{"type":"integer","description":"HPA CPU utilization percentage"}}},"image":{"type":"object","properties":{"pullPolicy":{"type":"string","description":"image pull policy","enum":["Always","Never","IfNotPresent"]},"repository":{"type":"string","description":"image repository"},"tag":{"type":"string","description":"image tag (overrides defaults.image.tag)"}}},"ingress":{"type":"object","properties":{"annotations":{"type":"object","description":"annotations for ingress"},"defaultBackend":{"type":"object","description":"defaultBackend config","properties":{"enabled":{"type":"boolean","description":"gateway ingress defaultBackend enabled"}}},"enabled":{"type":"boolean","description":"gateway ingress enabled"},"host":{"type":"string","description":"ingress hostname"},"pathType":{"type":"string","description":"gateway ingress pathType"},"servicePort":{"type":"string","description":"service port to be exposed by ingress"}}},"initContainers":{"type":"array","description":"init containers","items":{"type":"object"}},"internalTrafficPolicy":{"type":"string","description":"internal traffic policy (can be specified when service type is LoadBalancer or NodePort) : Cluster or Local"},"kind":{"type":"string","description":"deployment kind: Deployment or DaemonSet","enum":["Deployment","DaemonSet"]},"logging":{"type":"object","properties":{"format":{"type":"string","description":"logging format. logging format must be `raw` or `json`","enum":["raw","json"]},"level":{"type":"string","description":"logging level. logging level must be `debug`, `info`, `warn`, `error` or `fatal`.","enum":["debug","info","warn","error","fatal"]},"logger":{"type":"string","description":"logger name. currently logger must be `glg` or `zap`.","enum":["glg","zap"]}}},"maxReplicas":{"type":"integer","description":"maximum number of replicas. if HPA is disabled, this value will be ignored.","minimum":0},"maxUnavailable":{"type":"string","description":"maximum number of unavailable replicas"},"minReplicas":{"type":"integer","description":"minimum number of replicas. if HPA is disabled, the replicas will be set to this value","minimum":0},"name":{"type":"string","description":"name of filter gateway deployment"},"nodeName":{"type":"string","description":"node name"},"nodeSelector":{"type":"object","description":"node selector"},"observability":{"type":"object","properties":{"enabled":{"type":"boolean","description":"observability features enabled"},"metrics":{"type":"object","properties":{"enable_cgo":{"type":"boolean","description":"CGO metrics enabled"},"enable_goroutine":{"type":"boolean","description":"goroutine metrics enabled"},"enable_memory":{"type":"boolean","description":"memory metrics enabled"},"enable_version_info":{"type":"boolean","description":"version info metrics enabled"},"version_info_labels":{"type":"array","description":"enabled label names of version info","items":{"type":"string","enum":["vald_version","server_name","git_commit","build_time","go_version","go_os","go_arch","cgo_enabled","ngt_version","build_cpu_info_flags"]}}}},"otlp":{"type":"object","properties":{"attribute":{"type":"object","description":"default resource attribute","properties":{"namespace":{"type":"string","description":"namespace"},"node_name":{"type":"string","description":"node name"},"pod_name":{"type":"string","description":"pod name"},"service_name":{"type":"string","description":"service name"}}},"collector_endpoint":{"type":"string","description":"OpenTelemetry Collector endpoint"},"metrics_export_interval":{"type":"string","description":"metrics export interval"},"metrics_export_timeout":{"type":"string","description":"metrics export timeout"},"trace_batch_timeout":{"type":"string","description":"trace batch timeout"},"trace_export_timeout":{"type":"string","description":"trace export timeout"},"trace_max_export_batch_size":{"type":"integer","description":"trace maximum export batch size"},"trace_max_queue_size":{"type":"integer","description":"trace maximum queue size"}}},"trace":{"type":"object","properties":{"enabled":{"type":"boolean","description":"trace enabled"}}}}},"podAnnotations":{"type":"object","description":"pod annotations"},"podPriority":{"type":"object","properties":{"enabled":{"type":"boolean","description":"gateway pod PriorityClass enabled"},"value":{"type":"integer","description":"gateway pod PriorityClass value"}}},"podSecurityContext":{"type":"object","description":"security context for pod"},"progressDeadlineSeconds":{"type":"integer","description":"progress deadline seconds"},"resources":{"type":"object","description":"compute resources","properties":{"limits":{"type":"object"},"requests":{"type":"object"}}},"revisionHistoryLimit":{"type":"integer","description":"number of old history to retain to allow rollback","minimum":0},"rollingUpdate":{"type":"object","properties":{"maxSurge":{"type":"string","description":"max surge of rolling update"},"maxUnavailable":{"type":"string","description":"max unavailable of rolling update"}}},"securityContext":{"type":"object","description":"security context for container"},"server_config":{"type":"object","properties":{"full_shutdown_duration":{"type":"string","description":"server full shutdown duration"},"healths":{"type":"object","properties":{"liveness":{"type":"object","properties":{"enabled":{"type":"boolean","description":"liveness server enabled"},"host":{"type":"string","description":"liveness server host"},"livenessProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"liveness probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"liveness probe path"},"port":{"type":"string","description":"liveness probe port"},"scheme":{"type":"string","description":"liveness probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"liveness probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"liveness probe period seconds"},"successThreshold":{"type":"integer","description":"liveness probe success threshold"},"timeoutSeconds":{"type":"integer","description":"liveness probe timeout seconds"}}},"port":{"type":"integer","description":"liveness server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"liveness server service port","maximum":65535,"minimum":0}}},"readiness":{"type":"object","properties":{"enabled":{"type":"boolean","description":"readiness server enabled"},"host":{"type":"string","description":"readiness server host"},"port":{"type":"integer","description":"readiness server port","maximum":65535,"minimum":0},"readinessProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"readiness probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"readiness probe path"},"port":{"type":"string","description":"readiness probe port"},"scheme":{"type":"string","description":"readiness probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"readiness probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"readiness probe period seconds"},"successThreshold":{"type":"integer","description":"readiness probe success threshold"},"timeoutSeconds":{"type":"integer","description":"readiness probe timeout seconds"}}},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"readiness server service port","maximum":65535,"minimum":0}}},"startup":{"type":"object","properties":{"enabled":{"type":"boolean","description":"startup server enabled"},"port":{"type":"integer","description":"startup server port","maximum":65535,"minimum":0},"startupProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"startup probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"startup probe path"},"port":{"type":"string","description":"startup probe port"},"scheme":{"type":"string","description":"startup probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"startup probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"startup probe period seconds"},"successThreshold":{"type":"integer","description":"startup probe success threshold"},"timeoutSeconds":{"type":"integer","description":"startup probe timeout seconds"}}}}}}},"metrics":{"type":"object","properties":{"pprof":{"type":"object","properties":{"enabled":{"type":"boolean","description":"pprof server enabled"},"host":{"type":"string","description":"pprof server host"},"port":{"type":"integer","description":"pprof server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"pprof server service port","maximum":65535,"minimum":0}}}}},"servers":{"type":"object","properties":{"grpc":{"type":"object","properties":{"enabled":{"type":"boolean","description":"gRPC server enabled"},"host":{"type":"string","description":"gRPC server host"},"port":{"type":"integer","description":"gRPC server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"grpc":{"type":"object","properties":{"bidirectional_stream_concurrency":{"type":"integer","description":"gRPC server bidirectional stream concurrency"},"connection_timeout":{"type":"string","description":"gRPC server connection timeout"},"enable_reflection":{"type":"boolean","description":"gRPC server reflection option"},"header_table_size":{"type":"integer","description":"gRPC server header table size"},"initial_conn_window_size":{"type":"integer","description":"gRPC server initial connection window size"},"initial_window_size":{"type":"integer","description":"gRPC server initial window size"},"interceptors":{"type":"array","description":"gRPC server interceptors","items":{"type":"string","enum":["RecoverInterceptor","AccessLogInterceptor","TraceInterceptor","MetricInterceptor"]}},"keepalive":{"type":"object","properties":{"max_conn_age":{"type":"string","description":"gRPC server keep alive max connection age"},"max_conn_age_grace":{"type":"string","description":"gRPC server keep alive max connection age grace"},"max_conn_idle":{"type":"string","description":"gRPC server keep alive max connection idle"},"min_time":{"type":"string","description":"gRPC server keep alive min_time"},"permit_without_stream":{"type":"boolean","description":"gRPC server keep alive permit_without_stream"},"time":{"type":"string","description":"gRPC server keep alive time"},"timeout":{"type":"string","description":"gRPC server keep alive timeout"}}},"max_header_list_size":{"type":"integer","description":"gRPC server max header list size"},"max_receive_message_size":{"type":"integer","description":"gRPC server max receive message size"},"max_send_message_size":{"type":"integer","description":"gRPC server max send message size"},"read_buffer_size":{"type":"integer","description":"gRPC server read buffer size"},"write_buffer_size":{"type":"integer","description":"gRPC server write buffer size"}}},"mode":{"type":"string","description":"gRPC server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"gRPC server probe wait time"},"restart":{"type":"boolean","description":"gRPC server restart"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"gRPC server service port","maximum":65535,"minimum":0}}},"rest":{"type":"object","properties":{"enabled":{"type":"boolean","description":"REST server enabled"},"host":{"type":"string","description":"REST server host"},"port":{"type":"integer","description":"REST server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"REST server service port","maximum":65535,"minimum":0}}}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"service":{"type":"object","properties":{"annotations":{"type":"object","description":"service annotations"},"labels":{"type":"object","description":"service labels"}}},"serviceType":{"type":"string","description":"service type: ClusterIP, LoadBalancer or NodePort","enum":["ClusterIP","LoadBalancer","NodePort"]},"terminationGracePeriodSeconds":{"type":"integer","description":"duration in seconds pod needs to terminate gracefully","minimum":0},"time_zone":{"type":"string","description":"Time zone"},"tolerations":{"type":"array","description":"tolerations","items":{"type":"object"}},"topologySpreadConstraints":{"type":"array","description":"topology spread constraints of gateway pods","items":{"type":"object"}},"version":{"type":"string","description":"version of gateway config","pattern":"^v[0-9]+\\.[0-9]+\\.[0-9]$"},"volumeMounts":{"type":"array","description":"volume mounts","items":{"type":"object"}},"volumes":{"type":"array","description":"volumes","items":{"type":"object"}}}},"lb":{"type":"object","properties":{"affinity":{"type":"object","properties":{"nodeAffinity":{"type":"object","properties":{"preferredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"node affinity preferred scheduling terms","items":{"type":"object"}},"requiredDuringSchedulingIgnoredDuringExecution":{"type":"object","properties":{"nodeSelectorTerms":{"type":"array","description":"node affinity required node selectors","items":{"type":"object"}}}}}},"podAffinity":{"type":"object","properties":{"preferredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod affinity preferred scheduling terms","items":{"type":"object"}},"requiredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod affinity required scheduling terms","items":{"type":"object"}}}},"podAntiAffinity":{"type":"object","properties":{"preferredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod anti-affinity preferred scheduling terms","items":{"type":"object"}},"requiredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod anti-affinity required scheduling terms","items":{"type":"object"}}}}}},"annotations":{"type":"object","description":"deployment annotations"},"enabled":{"type":"boolean","description":"gateway enabled"},"env":{"type":"array","description":"environment variables","items":{"type":"object"}},"externalTrafficPolicy":{"type":"string","description":"external traffic policy (can be specified when service type is LoadBalancer or NodePort) : Cluster or Local"},"gateway_config":{"type":"object","properties":{"agent_namespace":{"type":"string","description":"agent namespace"},"discoverer":{"type":"object","properties":{"agent_client_options":{"type":"object","properties":{"addrs":{"type":"array","description":"gRPC client addresses","items":{"type":"string"}},"backoff":{"type":"object","properties":{"backoff_factor":{"type":"number","description":"gRPC client backoff factor"},"backoff_time_limit":{"type":"string","description":"gRPC client backoff time limit"},"enable_error_log":{"type":"boolean","description":"gRPC client backoff log enabled"},"initial_duration":{"type":"string","description":"gRPC client backoff initial duration"},"jitter_limit":{"type":"string","description":"gRPC client backoff jitter limit"},"maximum_duration":{"type":"string","description":"gRPC client backoff maximum duration"},"retry_count":{"type":"integer","description":"gRPC client backoff retry count"}}},"call_option":{"type":"object"},"circuit_breaker":{"type":"object","properties":{"closed_error_rate":{"type":"number","description":"gRPC client circuitbreaker closed error rate"},"closed_refresh_timeout":{"type":"string","description":"gRPC client circuitbreaker closed refresh timeout"},"half_open_error_rate":{"type":"number","description":"gRPC client circuitbreaker half-open error rate"},"min_samples":{"type":"integer","description":"gRPC client circuitbreaker minimum sampling count"},"open_timeout":{"type":"string","description":"gRPC client circuitbreaker open timeout"}}},"connection_pool":{"type":"object","properties":{"enable_dns_resolver":{"type":"boolean","description":"enables gRPC client connection pool dns resolver, when enabled vald uses ip handshake exclude dns discovery which improves network performance"},"enable_rebalance":{"type":"boolean","description":"enables gRPC client connection pool rebalance"},"old_conn_close_duration":{"type":"string","description":"makes delay before gRPC client connection closing during connection pool rebalance"},"rebalance_duration":{"type":"string","description":"gRPC client connection pool rebalance duration"},"size":{"type":"integer","description":"gRPC client connection pool size"}}},"dial_option":{"type":"object","properties":{"backoff_base_delay":{"type":"string","description":"gRPC client dial option base backoff delay"},"backoff_jitter":{"type":"number","description":"gRPC client dial option base backoff delay"},"backoff_max_delay":{"type":"string","description":"gRPC client dial option max backoff delay"},"backoff_multiplier":{"type":"number","description":"gRPC client dial option base backoff delay"},"enable_backoff":{"type":"boolean","description":"gRPC client dial option backoff enabled"},"initial_connection_window_size":{"type":"integer","description":"gRPC client dial option initial connection window size"},"initial_window_size":{"type":"integer","description":"gRPC client dial option initial window size"},"insecure":{"type":"boolean","description":"gRPC client dial option insecure enabled"},"interceptors":{"type":"array","description":"gRPC client interceptors","items":{"type":"string","enum":["TraceInterceptor"]}},"keepalive":{"type":"object","properties":{"permit_without_stream":{"type":"boolean","description":"gRPC client keep alive permit without stream"},"time":{"type":"string","description":"gRPC client keep alive time"},"timeout":{"type":"string","description":"gRPC client keep alive timeout"}}},"max_msg_size":{"type":"integer","description":"gRPC client dial option max message size"},"min_connection_timeout":{"type":"string","description":"gRPC client dial option minimum connection timeout"},"net":{"type":"object","properties":{"dialer":{"type":"object","properties":{"dual_stack_enabled":{"type":"boolean","description":"gRPC client TCP dialer dual stack enabled"},"keepalive":{"type":"string","description":"gRPC client TCP dialer keep alive"},"timeout":{"type":"string","description":"gRPC client TCP dialer timeout"}}},"dns":{"type":"object","properties":{"cache_enabled":{"type":"boolean","description":"gRPC client TCP DNS cache enabled"},"cache_expiration":{"type":"string","description":"gRPC client TCP DNS cache expiration"},"refresh_duration":{"type":"string","description":"gRPC client TCP DNS cache refresh duration"}}},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"read_buffer_size":{"type":"integer","description":"gRPC client dial option read buffer size"},"timeout":{"type":"string","description":"gRPC client dial option timeout"},"write_buffer_size":{"type":"integer","description":"gRPC client dial option write buffer size"}}},"health_check_duration":{"type":"string","description":"gRPC client health check duration"},"max_recv_msg_size":{"type":"integer"},"max_retry_rpc_buffer_size":{"type":"integer"},"max_send_msg_size":{"type":"integer"},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}},"wait_for_ready":{"type":"boolean"}}},"client":{"type":"object","properties":{"addrs":{"type":"array","description":"gRPC client addresses","items":{"type":"string"}},"backoff":{"type":"object","properties":{"backoff_factor":{"type":"number","description":"gRPC client backoff factor"},"backoff_time_limit":{"type":"string","description":"gRPC client backoff time limit"},"enable_error_log":{"type":"boolean","description":"gRPC client backoff log enabled"},"initial_duration":{"type":"string","description":"gRPC client backoff initial duration"},"jitter_limit":{"type":"string","description":"gRPC client backoff jitter limit"},"maximum_duration":{"type":"string","description":"gRPC client backoff maximum duration"},"retry_count":{"type":"integer","description":"gRPC client backoff retry count"}}},"call_option":{"type":"object"},"circuit_breaker":{"type":"object","properties":{"closed_error_rate":{"type":"number","description":"gRPC client circuitbreaker closed error rate"},"closed_refresh_timeout":{"type":"string","description":"gRPC client circuitbreaker closed refresh timeout"},"half_open_error_rate":{"type":"number","description":"gRPC client circuitbreaker half-open error rate"},"min_samples":{"type":"integer","description":"gRPC client circuitbreaker minimum sampling count"},"open_timeout":{"type":"string","description":"gRPC client circuitbreaker open timeout"}}},"connection_pool":{"type":"object","properties":{"enable_dns_resolver":{"type":"boolean","description":"enables gRPC client connection pool dns resolver, when enabled vald uses ip handshake exclude dns discovery which improves network performance"},"enable_rebalance":{"type":"boolean","description":"enables gRPC client connection pool rebalance"},"old_conn_close_duration":{"type":"string","description":"makes delay before gRPC client connection closing during connection pool rebalance"},"rebalance_duration":{"type":"string","description":"gRPC client connection pool rebalance duration"},"size":{"type":"integer","description":"gRPC client connection pool size"}}},"dial_option":{"type":"object","properties":{"backoff_base_delay":{"type":"string","description":"gRPC client dial option base backoff delay"},"backoff_jitter":{"type":"number","description":"gRPC client dial option base backoff delay"},"backoff_max_delay":{"type":"string","description":"gRPC client dial option max backoff delay"},"backoff_multiplier":{"type":"number","description":"gRPC client dial option base backoff delay"},"enable_backoff":{"type":"boolean","description":"gRPC client dial option backoff enabled"},"initial_connection_window_size":{"type":"integer","description":"gRPC client dial option initial connection window size"},"initial_window_size":{"type":"integer","description":"gRPC client dial option initial window size"},"insecure":{"type":"boolean","description":"gRPC client dial option insecure enabled"},"interceptors":{"type":"array","description":"gRPC client interceptors","items":{"type":"string","enum":["TraceInterceptor"]}},"keepalive":{"type":"object","properties":{"permit_without_stream":{"type":"boolean","description":"gRPC client keep alive permit without stream"},"time":{"type":"string","description":"gRPC client keep alive time"},"timeout":{"type":"string","description":"gRPC client keep alive timeout"}}},"max_msg_size":{"type":"integer","description":"gRPC client dial option max message size"},"min_connection_timeout":{"type":"string","description":"gRPC client dial option minimum connection timeout"},"net":{"type":"object","properties":{"dialer":{"type":"object","properties":{"dual_stack_enabled":{"type":"boolean","description":"gRPC client TCP dialer dual stack enabled"},"keepalive":{"type":"string","description":"gRPC client TCP dialer keep alive"},"timeout":{"type":"string","description":"gRPC client TCP dialer timeout"}}},"dns":{"type":"object","properties":{"cache_enabled":{"type":"boolean","description":"gRPC client TCP DNS cache enabled"},"cache_expiration":{"type":"string","description":"gRPC client TCP DNS cache expiration"},"refresh_duration":{"type":"string","description":"gRPC client TCP DNS cache refresh duration"}}},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"read_buffer_size":{"type":"integer","description":"gRPC client dial option read buffer size"},"timeout":{"type":"string","description":"gRPC client dial option timeout"},"write_buffer_size":{"type":"integer","description":"gRPC client dial option write buffer size"}}},"health_check_duration":{"type":"string","description":"gRPC client health check duration"},"max_recv_msg_size":{"type":"integer"},"max_retry_rpc_buffer_size":{"type":"integer"},"max_send_msg_size":{"type":"integer"},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}},"wait_for_ready":{"type":"boolean"}}},"duration":{"type":"string"}}},"index_replica":{"type":"integer","description":"number of index replica","minimum":1},"multi_operation_concurrency":{"type":"integer","description":"number of concurrency of multiXXX api's operation","minimum":2},"node_name":{"type":"string","description":"node name"}}},"hpa":{"type":"object","properties":{"enabled":{"type":"boolean","description":"HPA enabled"},"targetCPUUtilizationPercentage":{"type":"integer","description":"HPA CPU utilization percentage"}}},"image":{"type":"object","properties":{"pullPolicy":{"type":"string","description":"image pull policy","enum":["Always","Never","IfNotPresent"]},"repository":{"type":"string","description":"image repository"},"tag":{"type":"string","description":"image tag (overrides defaults.image.tag)"}}},"ingress":{"type":"object","properties":{"annotations":{"type":"object","description":"annotations for ingress"},"defaultBackend":{"type":"object","description":"defaultBackend config","properties":{"enabled":{"type":"boolean","description":"gateway ingress defaultBackend enabled"}}},"enabled":{"type":"boolean","description":"gateway ingress enabled"},"host":{"type":"string","description":"ingress hostname"},"pathType":{"type":"string","description":"gateway ingress pathType"},"servicePort":{"type":"string","description":"service port to be exposed by ingress"}}},"initContainers":{"type":"array","description":"init containers","items":{"type":"object"}},"internalTrafficPolicy":{"type":"string","description":"internal traffic policy (can be specified when service type is LoadBalancer or NodePort) : Cluster or Local"},"kind":{"type":"string","description":"deployment kind: Deployment or DaemonSet","enum":["Deployment","DaemonSet"]},"logging":{"type":"object","properties":{"format":{"type":"string","description":"logging format. logging format must be `raw` or `json`","enum":["raw","json"]},"level":{"type":"string","description":"logging level. logging level must be `debug`, `info`, `warn`, `error` or `fatal`.","enum":["debug","info","warn","error","fatal"]},"logger":{"type":"string","description":"logger name. currently logger must be `glg` or `zap`.","enum":["glg","zap"]}}},"maxReplicas":{"type":"integer","description":"maximum number of replicas. if HPA is disabled, this value will be ignored.","minimum":0},"maxUnavailable":{"type":"string","description":"maximum number of unavailable replicas"},"minReplicas":{"type":"integer","description":"minimum number of replicas. if HPA is disabled, the replicas will be set to this value","minimum":0},"name":{"type":"string","description":"name of gateway deployment"},"nodeName":{"type":"string","description":"node name"},"nodeSelector":{"type":"object","description":"node selector"},"observability":{"type":"object","properties":{"enabled":{"type":"boolean","description":"observability features enabled"},"metrics":{"type":"object","properties":{"enable_cgo":{"type":"boolean","description":"CGO metrics enabled"},"enable_goroutine":{"type":"boolean","description":"goroutine metrics enabled"},"enable_memory":{"type":"boolean","description":"memory metrics enabled"},"enable_version_info":{"type":"boolean","description":"version info metrics enabled"},"version_info_labels":{"type":"array","description":"enabled label names of version info","items":{"type":"string","enum":["vald_version","server_name","git_commit","build_time","go_version","go_os","go_arch","cgo_enabled","ngt_version","build_cpu_info_flags"]}}}},"otlp":{"type":"object","properties":{"attribute":{"type":"object","description":"default resource attribute","properties":{"namespace":{"type":"string","description":"namespace"},"node_name":{"type":"string","description":"node name"},"pod_name":{"type":"string","description":"pod name"},"service_name":{"type":"string","description":"service name"}}},"collector_endpoint":{"type":"string","description":"OpenTelemetry Collector endpoint"},"metrics_export_interval":{"type":"string","description":"metrics export interval"},"metrics_export_timeout":{"type":"string","description":"metrics export timeout"},"trace_batch_timeout":{"type":"string","description":"trace batch timeout"},"trace_export_timeout":{"type":"string","description":"trace export timeout"},"trace_max_export_batch_size":{"type":"integer","description":"trace maximum export batch size"},"trace_max_queue_size":{"type":"integer","description":"trace maximum queue size"}}},"trace":{"type":"object","properties":{"enabled":{"type":"boolean","description":"trace enabled"}}}}},"podAnnotations":{"type":"object","description":"pod annotations"},"podPriority":{"type":"object","properties":{"enabled":{"type":"boolean","description":"gateway pod PriorityClass enabled"},"value":{"type":"integer","description":"gateway pod PriorityClass value"}}},"podSecurityContext":{"type":"object","description":"security context for pod"},"progressDeadlineSeconds":{"type":"integer","description":"progress deadline seconds"},"resources":{"type":"object","description":"compute resources","properties":{"limits":{"type":"object"},"requests":{"type":"object"}}},"revisionHistoryLimit":{"type":"integer","description":"number of old history to retain to allow rollback","minimum":0},"rollingUpdate":{"type":"object","properties":{"maxSurge":{"type":"string","description":"max surge of rolling update"},"maxUnavailable":{"type":"string","description":"max unavailable of rolling update"}}},"securityContext":{"type":"object","description":"security context for container"},"server_config":{"type":"object","properties":{"full_shutdown_duration":{"type":"string","description":"server full shutdown duration"},"healths":{"type":"object","properties":{"liveness":{"type":"object","properties":{"enabled":{"type":"boolean","description":"liveness server enabled"},"host":{"type":"string","description":"liveness server host"},"livenessProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"liveness probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"liveness probe path"},"port":{"type":"string","description":"liveness probe port"},"scheme":{"type":"string","description":"liveness probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"liveness probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"liveness probe period seconds"},"successThreshold":{"type":"integer","description":"liveness probe success threshold"},"timeoutSeconds":{"type":"integer","description":"liveness probe timeout seconds"}}},"port":{"type":"integer","description":"liveness server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"liveness server service port","maximum":65535,"minimum":0}}},"readiness":{"type":"object","properties":{"enabled":{"type":"boolean","description":"readiness server enabled"},"host":{"type":"string","description":"readiness server host"},"port":{"type":"integer","description":"readiness server port","maximum":65535,"minimum":0},"readinessProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"readiness probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"readiness probe path"},"port":{"type":"string","description":"readiness probe port"},"scheme":{"type":"string","description":"readiness probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"readiness probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"readiness probe period seconds"},"successThreshold":{"type":"integer","description":"readiness probe success threshold"},"timeoutSeconds":{"type":"integer","description":"readiness probe timeout seconds"}}},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"readiness server service port","maximum":65535,"minimum":0}}},"startup":{"type":"object","properties":{"enabled":{"type":"boolean","description":"startup server enabled"},"port":{"type":"integer","description":"startup server port","maximum":65535,"minimum":0},"startupProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"startup probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"startup probe path"},"port":{"type":"string","description":"startup probe port"},"scheme":{"type":"string","description":"startup probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"startup probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"startup probe period seconds"},"successThreshold":{"type":"integer","description":"startup probe success threshold"},"timeoutSeconds":{"type":"integer","description":"startup probe timeout seconds"}}}}}}},"metrics":{"type":"object","properties":{"pprof":{"type":"object","properties":{"enabled":{"type":"boolean","description":"pprof server enabled"},"host":{"type":"string","description":"pprof server host"},"port":{"type":"integer","description":"pprof server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"pprof server service port","maximum":65535,"minimum":0}}}}},"servers":{"type":"object","properties":{"grpc":{"type":"object","properties":{"enabled":{"type":"boolean","description":"gRPC server enabled"},"host":{"type":"string","description":"gRPC server host"},"port":{"type":"integer","description":"gRPC server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"grpc":{"type":"object","properties":{"bidirectional_stream_concurrency":{"type":"integer","description":"gRPC server bidirectional stream concurrency"},"connection_timeout":{"type":"string","description":"gRPC server connection timeout"},"enable_reflection":{"type":"boolean","description":"gRPC server reflection option"},"header_table_size":{"type":"integer","description":"gRPC server header table size"},"initial_conn_window_size":{"type":"integer","description":"gRPC server initial connection window size"},"initial_window_size":{"type":"integer","description":"gRPC server initial window size"},"interceptors":{"type":"array","description":"gRPC server interceptors","items":{"type":"string","enum":["RecoverInterceptor","AccessLogInterceptor","TraceInterceptor","MetricInterceptor"]}},"keepalive":{"type":"object","properties":{"max_conn_age":{"type":"string","description":"gRPC server keep alive max connection age"},"max_conn_age_grace":{"type":"string","description":"gRPC server keep alive max connection age grace"},"max_conn_idle":{"type":"string","description":"gRPC server keep alive max connection idle"},"min_time":{"type":"string","description":"gRPC server keep alive min_time"},"permit_without_stream":{"type":"boolean","description":"gRPC server keep alive permit_without_stream"},"time":{"type":"string","description":"gRPC server keep alive time"},"timeout":{"type":"string","description":"gRPC server keep alive timeout"}}},"max_header_list_size":{"type":"integer","description":"gRPC server max header list size"},"max_receive_message_size":{"type":"integer","description":"gRPC server max receive message size"},"max_send_message_size":{"type":"integer","description":"gRPC server max send message size"},"read_buffer_size":{"type":"integer","description":"gRPC server read buffer size"},"write_buffer_size":{"type":"integer","description":"gRPC server write buffer size"}}},"mode":{"type":"string","description":"gRPC server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"gRPC server probe wait time"},"restart":{"type":"boolean","description":"gRPC server restart"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"gRPC server service port","maximum":65535,"minimum":0}}},"rest":{"type":"object","properties":{"enabled":{"type":"boolean","description":"REST server enabled"},"host":{"type":"string","description":"REST server host"},"port":{"type":"integer","description":"REST server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"REST server service port","maximum":65535,"minimum":0}}}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"service":{"type":"object","properties":{"annotations":{"type":"object","description":"service annotations"},"labels":{"type":"object","description":"service labels"}}},"serviceType":{"type":"string","description":"service type: ClusterIP, LoadBalancer or NodePort","enum":["ClusterIP","LoadBalancer","NodePort"]},"terminationGracePeriodSeconds":{"type":"integer","description":"duration in seconds pod needs to terminate gracefully","minimum":0},"time_zone":{"type":"string","description":"Time zone"},"tolerations":{"type":"array","description":"tolerations","items":{"type":"object"}},"topologySpreadConstraints":{"type":"array","description":"topology spread constraints of gateway pods","items":{"type":"object"}},"version":{"type":"string","description":"version of gateway config","pattern":"^v[0-9]+\\.[0-9]+\\.[0-9]$"},"volumeMounts":{"type":"array","description":"volume mounts","items":{"type":"object"}},"volumes":{"type":"array","description":"volumes","items":{"type":"object"}}}}}},"manager":{"type":"object","properties":{"index":{"type":"object","properties":{"affinity":{"type":"object","properties":{"nodeAffinity":{"type":"object","properties":{"preferredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"node affinity preferred scheduling terms","items":{"type":"object"}},"requiredDuringSchedulingIgnoredDuringExecution":{"type":"object","properties":{"nodeSelectorTerms":{"type":"array","description":"node affinity required node selectors","items":{"type":"object"}}}}}},"podAffinity":{"type":"object","properties":{"preferredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod affinity preferred scheduling terms","items":{"type":"object"}},"requiredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod affinity required scheduling terms","items":{"type":"object"}}}},"podAntiAffinity":{"type":"object","properties":{"preferredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod anti-affinity preferred scheduling terms","items":{"type":"object"}},"requiredDuringSchedulingIgnoredDuringExecution":{"type":"array","description":"pod anti-affinity required scheduling terms","items":{"type":"object"}}}}}},"annotations":{"type":"object","description":"deployment annotations"},"enabled":{"type":"boolean","description":"index manager enabled"},"env":{"type":"array","description":"environment variables","items":{"type":"object"}},"externalTrafficPolicy":{"type":"string","description":"external traffic policy (can be specified when service type is LoadBalancer or NodePort) : Cluster or Local"},"image":{"type":"object","properties":{"pullPolicy":{"type":"string","description":"image pull policy","enum":["Always","Never","IfNotPresent"]},"repository":{"type":"string","description":"image repository"},"tag":{"type":"string","description":"image tag (overrides defaults.image.tag)"}}},"indexer":{"type":"object","properties":{"agent_namespace":{"type":"string","description":"namespace of agent pods to manage"},"auto_index_check_duration":{"type":"string","description":"check duration of automatic indexing"},"auto_index_duration_limit":{"type":"string","description":"limit duration of automatic indexing"},"auto_index_length":{"type":"integer","description":"number of cache to trigger automatic indexing"},"auto_save_index_duration_limit":{"type":"string","description":"limit duration of automatic index saving"},"auto_save_index_wait_duration":{"type":"string","description":"duration of automatic index saving wait duration for next saving"},"concurrency":{"type":"integer","description":"concurrency","minimum":1},"creation_pool_size":{"type":"integer","description":"number of pool size of create index processing"},"discoverer":{"type":"object","properties":{"agent_client_options":{"type":"object","properties":{"addrs":{"type":"array","description":"gRPC client addresses","items":{"type":"string"}},"backoff":{"type":"object","properties":{"backoff_factor":{"type":"number","description":"gRPC client backoff factor"},"backoff_time_limit":{"type":"string","description":"gRPC client backoff time limit"},"enable_error_log":{"type":"boolean","description":"gRPC client backoff log enabled"},"initial_duration":{"type":"string","description":"gRPC client backoff initial duration"},"jitter_limit":{"type":"string","description":"gRPC client backoff jitter limit"},"maximum_duration":{"type":"string","description":"gRPC client backoff maximum duration"},"retry_count":{"type":"integer","description":"gRPC client backoff retry count"}}},"call_option":{"type":"object"},"circuit_breaker":{"type":"object","properties":{"closed_error_rate":{"type":"number","description":"gRPC client circuitbreaker closed error rate"},"closed_refresh_timeout":{"type":"string","description":"gRPC client circuitbreaker closed refresh timeout"},"half_open_error_rate":{"type":"number","description":"gRPC client circuitbreaker half-open error rate"},"min_samples":{"type":"integer","description":"gRPC client circuitbreaker minimum sampling count"},"open_timeout":{"type":"string","description":"gRPC client circuitbreaker open timeout"}}},"connection_pool":{"type":"object","properties":{"enable_dns_resolver":{"type":"boolean","description":"enables gRPC client connection pool dns resolver, when enabled vald uses ip handshake exclude dns discovery which improves network performance"},"enable_rebalance":{"type":"boolean","description":"enables gRPC client connection pool rebalance"},"old_conn_close_duration":{"type":"string","description":"makes delay before gRPC client connection closing during connection pool rebalance"},"rebalance_duration":{"type":"string","description":"gRPC client connection pool rebalance duration"},"size":{"type":"integer","description":"gRPC client connection pool size"}}},"dial_option":{"type":"object","properties":{"backoff_base_delay":{"type":"string","description":"gRPC client dial option base backoff delay"},"backoff_jitter":{"type":"number","description":"gRPC client dial option base backoff delay"},"backoff_max_delay":{"type":"string","description":"gRPC client dial option max backoff delay"},"backoff_multiplier":{"type":"number","description":"gRPC client dial option base backoff delay"},"enable_backoff":{"type":"boolean","description":"gRPC client dial option backoff enabled"},"initial_connection_window_size":{"type":"integer","description":"gRPC client dial option initial connection window size"},"initial_window_size":{"type":"integer","description":"gRPC client dial option initial window size"},"insecure":{"type":"boolean","description":"gRPC client dial option insecure enabled"},"interceptors":{"type":"array","description":"gRPC client interceptors","items":{"type":"string","enum":["TraceInterceptor"]}},"keepalive":{"type":"object","properties":{"permit_without_stream":{"type":"boolean","description":"gRPC client keep alive permit without stream"},"time":{"type":"string","description":"gRPC client keep alive time"},"timeout":{"type":"string","description":"gRPC client keep alive timeout"}}},"max_msg_size":{"type":"integer","description":"gRPC client dial option max message size"},"min_connection_timeout":{"type":"string","description":"gRPC client dial option minimum connection timeout"},"net":{"type":"object","properties":{"dialer":{"type":"object","properties":{"dual_stack_enabled":{"type":"boolean","description":"gRPC client TCP dialer dual stack enabled"},"keepalive":{"type":"string","description":"gRPC client TCP dialer keep alive"},"timeout":{"type":"string","description":"gRPC client TCP dialer timeout"}}},"dns":{"type":"object","properties":{"cache_enabled":{"type":"boolean","description":"gRPC client TCP DNS cache enabled"},"cache_expiration":{"type":"string","description":"gRPC client TCP DNS cache expiration"},"refresh_duration":{"type":"string","description":"gRPC client TCP DNS cache refresh duration"}}},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"read_buffer_size":{"type":"integer","description":"gRPC client dial option read buffer size"},"timeout":{"type":"string","description":"gRPC client dial option timeout"},"write_buffer_size":{"type":"integer","description":"gRPC client dial option write buffer size"}}},"health_check_duration":{"type":"string","description":"gRPC client health check duration"},"max_recv_msg_size":{"type":"integer"},"max_retry_rpc_buffer_size":{"type":"integer"},"max_send_msg_size":{"type":"integer"},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}},"wait_for_ready":{"type":"boolean"}}},"client":{"type":"object","properties":{"addrs":{"type":"array","description":"gRPC client addresses","items":{"type":"string"}},"backoff":{"type":"object","properties":{"backoff_factor":{"type":"number","description":"gRPC client backoff factor"},"backoff_time_limit":{"type":"string","description":"gRPC client backoff time limit"},"enable_error_log":{"type":"boolean","description":"gRPC client backoff log enabled"},"initial_duration":{"type":"string","description":"gRPC client backoff initial duration"},"jitter_limit":{"type":"string","description":"gRPC client backoff jitter limit"},"maximum_duration":{"type":"string","description":"gRPC client backoff maximum duration"},"retry_count":{"type":"integer","description":"gRPC client backoff retry count"}}},"call_option":{"type":"object"},"circuit_breaker":{"type":"object","properties":{"closed_error_rate":{"type":"number","description":"gRPC client circuitbreaker closed error rate"},"closed_refresh_timeout":{"type":"string","description":"gRPC client circuitbreaker closed refresh timeout"},"half_open_error_rate":{"type":"number","description":"gRPC client circuitbreaker half-open error rate"},"min_samples":{"type":"integer","description":"gRPC client circuitbreaker minimum sampling count"},"open_timeout":{"type":"string","description":"gRPC client circuitbreaker open timeout"}}},"connection_pool":{"type":"object","properties":{"enable_dns_resolver":{"type":"boolean","description":"enables gRPC client connection pool dns resolver, when enabled vald uses ip handshake exclude dns discovery which improves network performance"},"enable_rebalance":{"type":"boolean","description":"enables gRPC client connection pool rebalance"},"old_conn_close_duration":{"type":"string","description":"makes delay before gRPC client connection closing during connection pool rebalance"},"rebalance_duration":{"type":"string","description":"gRPC client connection pool rebalance duration"},"size":{"type":"integer","description":"gRPC client connection pool size"}}},"dial_option":{"type":"object","properties":{"backoff_base_delay":{"type":"string","description":"gRPC client dial option base backoff delay"},"backoff_jitter":{"type":"number","description":"gRPC client dial option base backoff delay"},"backoff_max_delay":{"type":"string","description":"gRPC client dial option max backoff delay"},"backoff_multiplier":{"type":"number","description":"gRPC client dial option base backoff delay"},"enable_backoff":{"type":"boolean","description":"gRPC client dial option backoff enabled"},"initial_connection_window_size":{"type":"integer","description":"gRPC client dial option initial connection window size"},"initial_window_size":{"type":"integer","description":"gRPC client dial option initial window size"},"insecure":{"type":"boolean","description":"gRPC client dial option insecure enabled"},"interceptors":{"type":"array","description":"gRPC client interceptors","items":{"type":"string","enum":["TraceInterceptor"]}},"keepalive":{"type":"object","properties":{"permit_without_stream":{"type":"boolean","description":"gRPC client keep alive permit without stream"},"time":{"type":"string","description":"gRPC client keep alive time"},"timeout":{"type":"string","description":"gRPC client keep alive timeout"}}},"max_msg_size":{"type":"integer","description":"gRPC client dial option max message size"},"min_connection_timeout":{"type":"string","description":"gRPC client dial option minimum connection timeout"},"net":{"type":"object","properties":{"dialer":{"type":"object","properties":{"dual_stack_enabled":{"type":"boolean","description":"gRPC client TCP dialer dual stack enabled"},"keepalive":{"type":"string","description":"gRPC client TCP dialer keep alive"},"timeout":{"type":"string","description":"gRPC client TCP dialer timeout"}}},"dns":{"type":"object","properties":{"cache_enabled":{"type":"boolean","description":"gRPC client TCP DNS cache enabled"},"cache_expiration":{"type":"string","description":"gRPC client TCP DNS cache expiration"},"refresh_duration":{"type":"string","description":"gRPC client TCP DNS cache refresh duration"}}},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"read_buffer_size":{"type":"integer","description":"gRPC client dial option read buffer size"},"timeout":{"type":"string","description":"gRPC client dial option timeout"},"write_buffer_size":{"type":"integer","description":"gRPC client dial option write buffer size"}}},"health_check_duration":{"type":"string","description":"gRPC client health check duration"},"max_recv_msg_size":{"type":"integer"},"max_retry_rpc_buffer_size":{"type":"integer"},"max_send_msg_size":{"type":"integer"},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}},"wait_for_ready":{"type":"boolean"}}},"duration":{"type":"string","description":"refresh duration to discover"}}},"node_name":{"type":"string","description":"node name"}}},"initContainers":{"type":"array","description":"init containers","items":{"type":"object"}},"kind":{"type":"string","description":"deployment kind: Deployment or DaemonSet","enum":["Deployment","DaemonSet"]},"logging":{"type":"object","properties":{"format":{"type":"string","description":"logging format. logging format must be `raw` or `json`","enum":["raw","json"]},"level":{"type":"string","description":"logging level. logging level must be `debug`, `info`, `warn`, `error` or `fatal`.","enum":["debug","info","warn","error","fatal"]},"logger":{"type":"string","description":"logger name. currently logger must be `glg` or `zap`.","enum":["glg","zap"]}}},"maxUnavailable":{"type":"string","description":"maximum number of unavailable replicas"},"name":{"type":"string","description":"name of index manager deployment"},"nodeName":{"type":"string","description":"node name"},"nodeSelector":{"type":"object","description":"node selector"},"observability":{"type":"object","properties":{"enabled":{"type":"boolean","description":"observability features enabled"},"metrics":{"type":"object","properties":{"enable_cgo":{"type":"boolean","description":"CGO metrics enabled"},"enable_goroutine":{"type":"boolean","description":"goroutine metrics enabled"},"enable_memory":{"type":"boolean","description":"memory metrics enabled"},"enable_version_info":{"type":"boolean","description":"version info metrics enabled"},"version_info_labels":{"type":"array","description":"enabled label names of version info","items":{"type":"string","enum":["vald_version","server_name","git_commit","build_time","go_version","go_os","go_arch","cgo_enabled","ngt_version","build_cpu_info_flags"]}}}},"otlp":{"type":"object","properties":{"attribute":{"type":"object","description":"default resource attribute","properties":{"namespace":{"type":"string","description":"namespace"},"node_name":{"type":"string","description":"node name"},"pod_name":{"type":"string","description":"pod name"},"service_name":{"type":"string","description":"service name"}}},"collector_endpoint":{"type":"string","description":"OpenTelemetry Collector endpoint"},"metrics_export_interval":{"type":"string","description":"metrics export interval"},"metrics_export_timeout":{"type":"string","description":"metrics export timeout"},"trace_batch_timeout":{"type":"string","description":"trace batch timeout"},"trace_export_timeout":{"type":"string","description":"trace export timeout"},"trace_max_export_batch_size":{"type":"integer","description":"trace maximum export batch size"},"trace_max_queue_size":{"type":"integer","description":"trace maximum queue size"}}},"trace":{"type":"object","properties":{"enabled":{"type":"boolean","description":"trace enabled"}}}}},"podAnnotations":{"type":"object","description":"pod annotations"},"podPriority":{"type":"object","properties":{"enabled":{"type":"boolean","description":"gateway pod PriorityClass enabled"},"value":{"type":"integer","description":"gateway pod PriorityClass value"}}},"podSecurityContext":{"type":"object","description":"security context for pod"},"progressDeadlineSeconds":{"type":"integer","description":"progress deadline seconds"},"replicas":{"type":"integer","description":"number of replicas","minimum":0},"resources":{"type":"object","description":"compute resources","properties":{"limits":{"type":"object"},"requests":{"type":"object"}}},"revisionHistoryLimit":{"type":"integer","description":"number of old history to retain to allow rollback","minimum":0},"rollingUpdate":{"type":"object","properties":{"maxSurge":{"type":"string","description":"max surge of rolling update"},"maxUnavailable":{"type":"string","description":"max unavailable of rolling update"}}},"securityContext":{"type":"object","description":"security context for container"},"server_config":{"type":"object","properties":{"full_shutdown_duration":{"type":"string","description":"server full shutdown duration"},"healths":{"type":"object","properties":{"liveness":{"type":"object","properties":{"enabled":{"type":"boolean","description":"liveness server enabled"},"host":{"type":"string","description":"liveness server host"},"livenessProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"liveness probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"liveness probe path"},"port":{"type":"string","description":"liveness probe port"},"scheme":{"type":"string","description":"liveness probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"liveness probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"liveness probe period seconds"},"successThreshold":{"type":"integer","description":"liveness probe success threshold"},"timeoutSeconds":{"type":"integer","description":"liveness probe timeout seconds"}}},"port":{"type":"integer","description":"liveness server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"liveness server service port","maximum":65535,"minimum":0}}},"readiness":{"type":"object","properties":{"enabled":{"type":"boolean","description":"readiness server enabled"},"host":{"type":"string","description":"readiness server host"},"port":{"type":"integer","description":"readiness server port","maximum":65535,"minimum":0},"readinessProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"readiness probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"readiness probe path"},"port":{"type":"string","description":"readiness probe port"},"scheme":{"type":"string","description":"readiness probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"readiness probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"readiness probe period seconds"},"successThreshold":{"type":"integer","description":"readiness probe success threshold"},"timeoutSeconds":{"type":"integer","description":"readiness probe timeout seconds"}}},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"readiness server service port","maximum":65535,"minimum":0}}},"startup":{"type":"object","properties":{"enabled":{"type":"boolean","description":"startup server enabled"},"port":{"type":"integer","description":"startup server port","maximum":65535,"minimum":0},"startupProbe":{"type":"object","properties":{"failureThreshold":{"type":"integer","description":"startup probe failure threshold"},"httpGet":{"type":"object","properties":{"path":{"type":"string","description":"startup probe path"},"port":{"type":"string","description":"startup probe port"},"scheme":{"type":"string","description":"startup probe scheme"}}},"initialDelaySeconds":{"type":"integer","description":"startup probe initial delay seconds"},"periodSeconds":{"type":"integer","description":"startup probe period seconds"},"successThreshold":{"type":"integer","description":"startup probe success threshold"},"timeoutSeconds":{"type":"integer","description":"startup probe timeout seconds"}}}}}}},"metrics":{"type":"object","properties":{"pprof":{"type":"object","properties":{"enabled":{"type":"boolean","description":"pprof server enabled"},"host":{"type":"string","description":"pprof server host"},"port":{"type":"integer","description":"pprof server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"pprof server service port","maximum":65535,"minimum":0}}}}},"servers":{"type":"object","properties":{"grpc":{"type":"object","properties":{"enabled":{"type":"boolean","description":"gRPC server enabled"},"host":{"type":"string","description":"gRPC server host"},"port":{"type":"integer","description":"gRPC server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"grpc":{"type":"object","properties":{"bidirectional_stream_concurrency":{"type":"integer","description":"gRPC server bidirectional stream concurrency"},"connection_timeout":{"type":"string","description":"gRPC server connection timeout"},"enable_reflection":{"type":"boolean","description":"gRPC server reflection option"},"header_table_size":{"type":"integer","description":"gRPC server header table size"},"initial_conn_window_size":{"type":"integer","description":"gRPC server initial connection window size"},"initial_window_size":{"type":"integer","description":"gRPC server initial window size"},"interceptors":{"type":"array","description":"gRPC server interceptors","items":{"type":"string","enum":["RecoverInterceptor","AccessLogInterceptor","TraceInterceptor","MetricInterceptor"]}},"keepalive":{"type":"object","properties":{"max_conn_age":{"type":"string","description":"gRPC server keep alive max connection age"},"max_conn_age_grace":{"type":"string","description":"gRPC server keep alive max connection age grace"},"max_conn_idle":{"type":"string","description":"gRPC server keep alive max connection idle"},"min_time":{"type":"string","description":"gRPC server keep alive min_time"},"permit_without_stream":{"type":"boolean","description":"gRPC server keep alive permit_without_stream"},"time":{"type":"string","description":"gRPC server keep alive time"},"timeout":{"type":"string","description":"gRPC server keep alive timeout"}}},"max_header_list_size":{"type":"integer","description":"gRPC server max header list size"},"max_receive_message_size":{"type":"integer","description":"gRPC server max receive message size"},"max_send_message_size":{"type":"integer","description":"gRPC server max send message size"},"read_buffer_size":{"type":"integer","description":"gRPC server read buffer size"},"write_buffer_size":{"type":"integer","description":"gRPC server write buffer size"}}},"mode":{"type":"string","description":"gRPC server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"gRPC server probe wait time"},"restart":{"type":"boolean","description":"gRPC server restart"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"gRPC server service port","maximum":65535,"minimum":0}}},"rest":{"type":"object","properties":{"enabled":{"type":"boolean","description":"REST server enabled"},"host":{"type":"string","description":"REST server host"},"port":{"type":"integer","description":"REST server port","maximum":65535,"minimum":0},"server":{"type":"object","properties":{"http":{"type":"object","properties":{"handler_timeout":{"type":"string","description":"REST server handler timeout"},"idle_timeout":{"type":"string","description":"REST server idle timeout"},"read_header_timeout":{"type":"string","description":"REST server read header timeout"},"read_timeout":{"type":"string","description":"REST server read timeout"},"shutdown_duration":{"type":"string","description":"REST server shutdown duration"},"write_timeout":{"type":"string","description":"REST server write timeout"}}},"mode":{"type":"string","description":"REST server server mode"},"network":{"type":"string","description":"mysql network","enum":["tcp","tcp4","tcp6","udp","udp4","udp6","unix","unixgram","unixpacket"]},"probe_wait_time":{"type":"string","description":"REST server probe wait time"},"socket_option":{"type":"object","properties":{"ip_recover_destination_addr":{"type":"boolean","description":"server listen socket option for ip_recover_destination_addr functionality"},"ip_transparent":{"type":"boolean","description":"server listen socket option for ip_transparent functionality"},"reuse_addr":{"type":"boolean","description":"server listen socket option for reuse_addr functionality"},"reuse_port":{"type":"boolean","description":"server listen socket option for reuse_port functionality"},"tcp_cork":{"type":"boolean","description":"server listen socket option for tcp_cork functionality"},"tcp_defer_accept":{"type":"boolean","description":"server listen socket option for tcp_defer_accept functionality"},"tcp_fast_open":{"type":"boolean","description":"server listen socket option for tcp_fast_open functionality"},"tcp_no_delay":{"type":"boolean","description":"server listen socket option for tcp_no_delay functionality"},"tcp_quick_ack":{"type":"boolean","description":"server listen socket option for tcp_quick_ack functionality"}}},"socket_path":{"type":"string","description":"mysql socket_path"}}},"servicePort":{"type":"integer","description":"REST server service port","maximum":65535,"minimum":0}}}}},"tls":{"type":"object","properties":{"ca":{"type":"string","description":"TLS ca path"},"cert":{"type":"string","description":"TLS cert path"},"enabled":{"type":"boolean","description":"TLS enabled"},"insecure_skip_verify":{"type":"boolean","description":"enable/disable skip SSL certificate verification"},"key":{"type":"string","description":"TLS key path"}}}}},"service":{"type":"object","properties":{"annotations":{"type":"object","description":"service annotations"},"labels":{"type":"object","description":"service labels"}}},"serviceType":{"type":"string","description":"service type: ClusterIP, LoadBalancer or NodePort","enum":["ClusterIP","LoadBalancer","NodePort"]},"terminationGracePeriodSeconds":{"type":"integer","description":"duration in seconds pod needs to terminate gracefully","minimum":0},"time_zone":{"type":"string","description":"Time zone"},"tolerations":{"type":"array","description":"tolerations","items":{"type":"object"}},"topologySpreadConstraints":{"type":"array","description":"topology spread constraints of gateway pods","items":{"type":"object"}},"version":{"type":"string","description":"version of gateway config","pattern":"^v[0-9]+\\.[0-9]+\\.[0-9]$"},"volumeMounts":{"type":"array","description":"volume mounts","items":{"type":"object"}},"volumes":{"type":"array","description":"volumes","items":{"type":"object"}}}}}}}}
